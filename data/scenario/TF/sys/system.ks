;;role_button行数固定
*show_role_all
[show_role_all][return]
*show_role
[show_role][return]

*show_H_role
[show_H_role][return]
*show_H_role_all
[show_H_role_all][return]

*repeat_room
[show_repeat_role st=room][return]
*repeat_out
[show_repeat_role st=out][return]
*repeat_nade
[show_repeat_role st=nade][return]
*repeat_work
[show_repeat_role st=work][return]

*repeat_Hx
[if exp="tf.r=='stop'" ][eval exp="f.g_config.repeat_mode=0" ][jump/ st=H/Hx_sys tg=*act_menu ][endif]
[clearfix name="role_repeat" ][return]
;*Hx_auto
;[if exp="tf.r=='stop'" ][eval exp="f.hx_select.auto='on'" ]
;[else][eval exp="f.hx_select.auto=1" ]
;[autostop][autostart][endif][return]
;*Hx_skip
;[if exp="tf.r=='stop'" ][eval exp="f.hx_select.skip='on'" ]
;[else][eval exp="f.hx_select.skip=1" ][cancelskip][skipstart][endif][return]

;H表現オンオフrole
*h_role_sw
[if exp="f.situ.situ=='sex'" ]
	[if exp="tf.role_sw=='xr'" ]
		[if exp="sf.h_effect.xr==1" ][eval exp="sf.h_effect.xr=0" ][h_ef/ xr=hide ]
;		[c_hide n=xr ]
		[else][eval exp="sf.h_effect.xr=1" ][c_show n=xr w=t z=200 ][h_ef/ xr=re ][endif]
	[elsif exp="tf.role_sw=='tx'" ]
		[if exp="sf.h_effect.tx==1" ][eval exp="sf.h_effect.tx=0" ][h_ef/ tx=hide ]
;		[c_hide n=tx ]
		[else][eval exp="sf.h_effect.tx=1" ][c_show n=tx w=t z=210 ][h_ef/ tx=re ][endif]
	[elsif exp="tf.role_sw=='se'" ]
		[if exp="sf.h_effect.se==1" ][eval exp="sf.h_effect.se=0" ][h_ef/ se=hide ]
;		[c_hide n=se ]
		[else][eval exp="sf.h_effect.se=1" ][c_show n=se w=t z=220 ][h_ef/ se=re ][endif]
	[elsif exp="tf.role_sw=='ef'" ]
		[if exp="sf.h_effect.ef==1" ][eval exp="sf.h_effect.ef=0" ][h_ef/ ef=hide ]
;		[c_hide n=ef ]
		[else][eval exp="sf.h_effect.ef=1" ][c_show n=ef w=t z=230 ][h_ef/ ef=re ][endif]
	[endif]
[else]
	[if exp="tf.role_sw=='xr'" ]
		[if exp="sf.h_effect.xr==1" ][eval exp="sf.h_effect.xr=0" ][Hx/ev xr=hide ]
		[else][eval exp="sf.h_effect.xr=1" ][Hx/ev xr=re ][endif]
	[elsif exp="tf.role_sw=='tx'" ]
		[if exp="sf.h_effect.tx==1" ][eval exp="sf.h_effect.tx=0" ][Hx/ev tx=hide ]
		[else][eval exp="sf.h_effect.tx=1" ][Hx/ev tx=re ][endif]
	[elsif exp="tf.role_sw=='se'" ]
		[if exp="sf.h_effect.se==1" ][eval exp="sf.h_effect.se=0" ][Hx/ev se=hide ]
		[else][eval exp="sf.h_effect.se=1" ][Hx/ev se=re ][endif]
	[elsif exp="tf.role_sw=='ef'" ]
		[if exp="sf.h_effect.ef==1" ][eval exp="sf.h_effect.ef=0" ][Hx/ev ef=hide ]
		[else][eval exp="sf.h_effect.ef=1" ][Hx/ev ef=re ][endif]
	[endif]
[endif][h_role_sw][return]


*h_role_bgm
[set_bgm_vol][h_role_bgm][return]
*h_role_se
[set_se_vol][h_role_se][return]

*xr_fix
[if exp="f.g_info.ks!='TF/H/mouth.ks'" ]
[if exp="sf.h_effect.xr==0" ][c_hide n=xr ][else][c_show n=xr w=t z=200 ][h_ef/ xr=re ][endif][endif]
[xr_fix][return]
*tx_fix
[if exp="sf.h_effect.tx==0" ][c_hide n=tx ][else][c_show n=tx w=t z=210 ][h_ef/ tx=re ][endif][tx_fix][return]
*se_fix
[if exp="sf.h_effect.se==0" ][c_hide n=se ][else][c_show n=se w=t z=220 ][h_ef/ se=re ][endif][se_fix][return]
*ef_fix
[if exp="sf.h_effect.ef==0" ][c_hide n=ef ][else][c_show n=ef w=t z=230 ][h_ef/ ef=re ][endif][ef_fix][return]

*awake
[cm][awakegame]
*awake_config
[cm][name_call_set][awakegame]
;[eval exp="f.g_info.ks=f.g_info.ks_pre" ]

*return_menu
[return_menu]


;;ベータ-------------------------------------------------------------------------------------------------
;*pass_lock
;[if exp="sf.password=='应该在网站上阅读有关Beta版本的人！!！！!！'" ][jump target="*pass" ][endif]
;[edit left=200 top=300 width="950" height="50" name="sf.password" ]
;[button target="*sbm_pass" x="450" y="400" graphic="TF/s_menu/conti.png" ][s]
;*sbm_pass
;[commit][cm][if exp="sf.password=='回头看'" ][eval exp="sf.password='应该在网站上阅读有关Beta版本的人！!！！!！'" ]
;[else][jump target="*pass_lock" ][endif]
;*pass
;[cm]

;;タイトル画面-------------------------------------------------------------------------------------------------
*title
[cm][free_tx][freechara t=1][clearstack][clearfix][bgm st=SG][bg/ g=sys/ st=title t=150 ]
[key_del][key_set key=esc tg=*close ][key_set key=enter tg=*start ]
[key_set key=h tg=*how_to exp="tf.title='title'" ]
[key_set key=c tg=*config exp="tf.title='title'" ][key_set key=u tg=*history ]
[key_set key=p tg=*patch ][key_set key=r tg=*credit ]
[key_set key=l tg=*load ]

*show
[xy x=369 y=595 x_add=428 y_add=55 r=0 preg1='menu/title/' ][btn/xy x=2]
[btn/ l=x tg=*start g=1 gr=start ][btn/ l=x tg=*load g=1 gr=continue ]
[btn/ l=x tg=*config g=1 gr=config exp="tf.title='title'"]
[btn/ l=x tg=*how_to g=1 gr=how_to exp="tf.title='title'"]
[btn/ l=x tg=*history g=1 gr=history ][btn/ l=x tg=*credit g=1 gr=credit ]
[btn/ l=x tg=*patch g=1 gr=patch ]
[btn/ l=x tg=*close g=1 gr=quit ]
[s]

*load
[cm][key_del][showload][jump/ tg=*show ]
*close
[cm][key_del]
[if exp="sf.system_ver.ArtBook>=1" ][eval exp="sf.playing='TeachingFeeling_AB'" ][jump storage=first.ks ][endif]
[close ask="false"]
*credit
[cm][key_del][bg/ g=sys st=credit ][p][jump/ tg=*title ]

*patch
[cm][key_del]
[bg/ g=sys st=patch_beta w=t]
[apply_local_patch reload=false file="TF_beta.tpatch" ]
[bg/ g=sys st=patch_fix w=t]
[apply_local_patch reload=false file="TF_fix.tpatch" ]
[apply_local_patch reload=false file="TF_beta_fix.tpatch" ]
;
[apply_local_patch reload=false file="fix_TF.tpatch" ]
[apply_local_patch reload=false file="fix_TF_beta.tpatch" ]
[jump/ tg=*title ]

;初期設定
*start
[cm][key_del][call storage="TF/pre/exp.ks" target=*first_exp]
[eval exp="tf.first_conf={skip:0}" ]

*first_config_bg
[if exp="tf.first_conf.skip==1" ][bg/ g=sys st=first_config_]
[else][bg/ g=sys st=first_config][endif]


*first_config
[cm][free_tx]
[xy y=119 s=35 preg1='config/first_config/' tg1='*first_config' tg2='*first_conf_x' tg3='*first_conf_non_x' ]
[tx_img x=160 tx1='名称=' ][tx_img x=270 n=f.name.name ]
[xy y=257 ]
[btn/ tg=*sbm_name_fst x=134 g=1 gr=n_confirm ]
[btn/ tg=1 x=357 g=1 gr=n_def sw=name.name swm=润滑油 exp="f.name.name='润滑油'" ]
[btn/ tg=1 x=494 g=1 gr=n_non sw=name.name swm=不设置 exp="f.name.name='不设置'" ]

[tx_box x=134 y=187 h=55 w=542 ex=tf.name_temp]
[xy x=1034 y=115 x_add=67 ][btn/xy]
[btn/ l=x tg=1 g=1 gr=heart sw=H_setting swm=4 exp="f.g_config.H_setting=4"]
[btn/ l=x tg=1 g=1 gr=heart sw=H_setting swm=3 exp="f.g_config.H_setting=3"]
[btn/ l=x tg=1 g=1 gr=heart sw=H_setting swm=2 exp="f.g_config.H_setting=2"]
[btn/ l=x tg=1 g=1 gr=heart sw=H_setting swm=1 exp="f.g_config.H_setting=1"]
[btn/ l=x tg=3 g=1 gr=heart sw=H_setting swm=0 exp="f.g_config.H_setting=0"]

[xy x=875 y=185 y_add=34 s=22 ]
[if exp="f.g_config.H_setting==0" ]
[tx_img tx1=H对于那些想避免所有元素的人。 l=y ]
[tx_img tx1=H所有相关命令都不显示。 l=y ]
[tx_img tx1=如果您甚至越过界线，您将无法选择。 l=y ]
[elsif exp="f.g_config.H_setting==1" ]
[tx_img tx1=这是正常模式。 l=y ]
[tx_img tx1=对于那些想过相对平静的生活的人。 l=y ]
[tx_img tx1=淫乱度自然减少 l=y ]
[tx_img tx1=女主角好色的发言变得保守。 l=y ]
[elsif exp="f.g_config.H_setting==2" ]
[tx_img tx1=适合想让女主角对H的倾向适合游戏风格的人。 l=y ]
[tx_img tx1=是不发生淫乱的自然减少的模式。 l=y ]
[tx_img tx1=女主角好色的发言率需要淫乱度的修正。 l=y ]
[elsif exp="f.g_config.H_setting==3" ]
[tx_img tx1=H面向想提高活动频率的人。 l=y ]
[tx_img tx1=淫乱度不会自然减少，相反在特定条件下淫乱度会自然增加。 l=y ]
[tx_img tx1=根据现在淫乱度随机发情的概率上升 l=y ]
[tx_img tx1=冷静的概率会下降。 l=y ]
[elsif exp="f.g_config.H_setting==4" ]
[tx_img tx1=适合想和淫乱的女主角过着烂漫生活的人。 l=y ]
[tx_img tx1=以和女主角H的关系为前提，柏拉图的路线消失了。 l=y ]
[tx_img tx1=淫乱度增加和发情状态的发生率变高 l=y ]
[tx_img tx1=也不会随机冷静。 l=y ]
[endif]

[if exp="tf.first_conf.skip==1" ]
[btn/ tg=*first_config_bg x=119 y=490 g=1 gr=x_skip- exp="tf.first_conf.skip=0" ][else]
[btn/ tg=*first_config_bg x=119 y=490 g=1 gr=x_skip exp="tf.first_conf.skip=1" ][endif]

[if exp="tf.first_conf.skip==1" ][xy x=684 y=577 x_add=409 y_add=60 ][btn/xy x=2]
	[if exp="tf.first_conf.memory==1" ]
	[btn/ tg=1 l=x g=1 gr=x_memory- exp="tf.first_conf.memory=0" ][else]
	[btn/ tg=2 l=x g=1 gr=x_memory exp="tf.first_conf.memory=1" ][endif]
;	[if exp="tf.first_conf.sub_c==1" ]
;	[btn/ tg=1 l=x g=1 gr=x_sub_c- exp="tf.first_conf.sub_c=0" ][else]
;	[btn/ tg=1 l=x g=1 gr=x_sub_c exp="tf.first_conf.sub_c=1" ][endif]
	[if exp="tf.first_conf.book==1" ]
	[btn/ tg=1 l=x g=1 gr=x_book- exp="tf.first_conf.book=0" ][else]
	[btn/ tg=1 l=x g=1 gr=x_book exp="tf.first_conf.book=1" ][endif]
	[if exp="tf.first_conf.dress==1" ]
	[btn/ tg=1 l=x g=1 gr=x_dress- exp="tf.first_conf.dress=0" ][else]
	[btn/ tg=1 l=x g=1 gr=x_dress exp="tf.first_conf.dress=1" ][endif]
	[if exp="tf.first_conf.dress_x==1" ]
	[btn/ tg=1 l=x g=1 gr=x_dress_x- exp="tf.first_conf.dress_x=0" ][else]
	[btn/ tg=2 l=x g=1 gr=x_dress_x exp="tf.first_conf.dress_x=1" ][endif]

	[if exp="tf.first_conf.flower_b==1" ]
	[btn/ tg=1 l=x g=1 gr=x_flower_b- exp="tf.first_conf.flower_b=0" ][else]
	[btn/ tg=1 l=x g=1 gr=x_flower_b exp="tf.first_conf.flower_b=1" ][endif]
	[if exp="tf.first_conf.book==1" ]
		[if exp="tf.first_conf.flower_p==1" ]
		[btn/ tg=1 l=x g=1 gr=x_flower_p- exp="tf.first_conf.flower_p=0" ][else]
		[btn/ tg=2 l=x g=1 gr=x_flower_p exp="tf.first_conf.flower_p=1" ][endif][endif]
[endif]

[btn/ tg=*jump_to_openning x=605 y=798 g=1 gr=decide ][s]

*first_conf_x
[if exp="f.g_config.H_setting==0" ][eval exp="f.g_config.H_setting=1" ][endif]
[jump/ tg=*first_config ]
*first_conf_non_x
[eval exp="tf.first_conf.red_f=0, tf.first_conf.memory=0, tf.first_conf.dress_x=0" ]
[jump/ tg=*first_config ]

*sbm_name_fst
[commit][cm][eval exp="f.name.name=tf.name_temp" cond="tf.name_temp!=''" ]
[jump/ tg=*first_config ]

*jump_to_openning
[cm][free_tx][start_keyconfig]
[eval exp="f.name.name='未設定'" cond="f.name.name=='不设置'"]
[show_role][set_win_frame][show_message_w]
[jump/ st=pre/exp tg=*skip_intro cond="tf.first_conf.skip==1"]
[jump/ st=sys/intro_event tg=*opening]


;;所持品-------------------------------------------------------------------------------------------------
*items
[cm][_][free_tx][hide_role][c_mod n=win st=room/item ][eval exp="f.act.system=1" ]
[xy x=920 y=130 x_add=300 y_add=46 s=30 ][btn/xy]

[tx_img tx1=所持品 l=y][eval exp="f.y.bace+=10" ]
[tx_img l=y tx1=没什么特别的 cond="f.state.step<=5"]
[tx_img l=y tx1=异国手工艺书 cond="f.item.book!=0"]

[if exp="f.item.p_wine>=20" ][tx_img tx1=两瓶未开封的梅酒 l=y]
[elsif exp="f.item.p_wine>=11" ][tx_img tx1=喝了一半和一瓶未开封的梅酒 l=y]
[elsif exp="f.item.p_wine>=10" ][tx_img tx1=一瓶未开封的梅酒 l=y]
[elsif exp="f.item.p_wine>=7" ][tx_img tx1=稍微减少了一点的梅酒一瓶 l=y]
[elsif exp="f.item.p_wine>=4" ][tx_img tx1=剩下一半左右的梅酒一瓶 l=y]
[elsif exp="f.item.p_wine>=3" ][tx_img tx1=一瓶剩下的梅酒 l=y]
[elsif exp="f.item.p_wine>=1" ][tx_img tx1=只剩下一点点的梅酒一瓶 l=y][endif]
[if exp="f.item.p_wine>=1" ][endif]

[if exp="f.item.miyage=='non' || f.item.miyage=='nothing' || f.daily.tea==1 || f.daily.tea==2 " ][else]
[tx_img l=y tx1=买来了礼物「 n=f.item.miyage tx2=」 ][endif]

[xy x=914 y=423 y_add=55 ][btn/xy]
[tx_img l=y tx1=粉红色的花「 n=f.item.flower_p tx2=」個 c=pink cond="f.item.flower_p>=1"]
[tx_img l=y tx1=红花香「 n=f.item.popuri_p tx2=」個 c=pink cond="f.item.popuri_p>=1"]
[tx_img l=y tx1=红色的气味「 n=f.item.aroma_p tx2=」個 c=pink cond="f.item.aroma_p>=1"]

[add_x]
[tx_img l=y tx1=蓝色的花「 n=f.item.flower_b tx2=」個 c=lightblue cond="f.item.flower_b>=1"]
[tx_img l=y tx1=蓝胡椒「 n=f.item.popuri_b tx2=」個 c=lightblue cond="f.item.popuri_b>=1"]
[tx_img l=y tx1=蓝色的气味「 n=f.item.aroma_b tx2=」個 c=lightblue cond="f.item.aroma_b>=1"]

[p][return_menu]

;;ステータス-------------------------------------------------------------------------------------------
*status
[cm][hide_role][free_tx][c_mod n=win st=room/status ]
[_][eval exp="f.act.system=1" ][limit_status]
[if exp="f.x_count.sex>=1" ][xy x=1300 y=92 s=28 ]
	[eval exp="f.tx[1]='ムード「'" ]
	[if exp="f.state.mood=='def'" ][tx_img tx1=1 tx2=通常」 l=y]
	[elsif exp="f.state.mood=='calm'" ][tx_img tx1=1 tx2=冷静」 l=y]
	[elsif exp="f.state.mood=='lust'" ][tx_img tx1=1 tx2=发情」 l=y][endif][endif]

[xy x=913 y=142 x_add=295 y_add=50 s=30 ][btn/xy x=2]
[if exp="f.count.day>=730" ][tx_img tx1=和希尔薇一起生活了几年 l=y]
[elsif exp="f.count.day>=365" ][tx_img tx1=和希尔薇一起生活一年以上 l=y]
[else][tx_img tx1=开始和希尔薇一起生活 n=f.count.day tx2=日目 l=y][endif]

[if exp="f.state.step<=3" ]
[tx_img tx1=信頼度 n=f.intro.trust l=x c=lightblue]
[tx_img tx1=友好度 n=f.state.love l=x c=lightblue]
[else]
[tx_img tx1=亲密度 n=f.state.love l=x c=lightblue]
[if exp="f.x_count.sex>=1" ][tx_img l=x tx1=淫乱度 n=f.state.lust c=pink][else][add_y][endif]
[endif]
;[if exp="f.x_count.sex>=1" ][tx_img l=x tx1=淫乱度 n=f.state.lust c=pink][else][add_y][endif]
;[if exp="f.x_count.sex>=1" ][tx_img l=x tx1=淫乱度 n=f.state.lust c=pink][endif]

[eval exp="f.y.bace+=40" ]
[tx_img l=x tx1=会话回数 n=f.count.talk cond="f.count.talk>=1"]
[tx_img l=x tx1=抚摸次数 n=f.count.nade cond="f.count.nade>=1"]
[tx_img l=x tx1=外出回数 n=f.count.out cond="f.count.out>=1"]
[tx_img l=x tx1=街访问回数 n=f.count.town cond="f.count.town>=1"]
[tx_img l=x tx1=広场休憩回数 n=f.count.hiroba cond="f.count.hiroba>=1"]
[tx_img l=x tx1=市場散策回数 n=f.count.market cond="f.count.market>=1"]
[tx_img l=x tx1=軽食回数 n=f.count.cafe cond="f.count.cafe>=1"]
[tx_img l=x tx1=夜外食回数 n=f.count.dinner cond="f.count.dinner>=1"]
[tx_img l=x tx1=森散策回数 n=f.count.forest cond="f.count.forest>=1"]
[tx_img l=x tx1=お茶回数 n=f.count.tea cond="f.count.tea>=1"]
[tx_img l=x tx1=お酒回数 n=f.count.p_wine cond="f.count.p_wine>=1"]
[tx_img l=x tx1=亲吻的数量 n=f.h_count.kiss cond="f.h_count.kiss>=1"]

[xy x=922 y=619 x_add=270 y_add=30 s=28 ]
[if exp="f.state.step==1" ][tx_img tx1=我觉得希尔薇还是个陌生人 l=y][tx_img tx1=思われています。 l=y]
[elsif exp="f.state.step==2" ][tx_img tx1=我认识希尔薇 l=y][tx_img tx1=认可。
 l=y]
[elsif exp="f.state.step==3" ][tx_img tx1=希尔薇是同居者 l=y][tx_img tx1=我开始信任你。 l=y]
[elsif exp="f.state.step==4" ][tx_img tx1=希尔薇和你在一起 l=y][tx_img tx1=享受。
 l=y]
[elsif exp="f.state.step==5" ][tx_img tx1=希尔薇对你有明确的好感 l=y][tx_img tx1=我离开。 l=y]
[elsif exp="f.state.step>=6 && f.state.love>=3000 && f.state.lust>=1500" ]
[tx_img tx1=如果希尔薇离开你一天 l=y][tx_img tx1=它会引起恐慌。
 l=y]
[elsif exp="f.state.step>=6 && f.state.love>=2000 && f.state.lust>=1000" ]
[tx_img tx1=希尔薇说你不在身边 l=y][tx_img tx1=会感到强烈的不安。
 l=y]
[elsif exp="f.state.step>=6 && f.state.love>=1000 && f.state.lust>=600" ]
[tx_img tx1=希尔薇说你不在 l=y][tx_img tx1=我觉得我活不下去了。
 l=y]
[elsif exp="f.state.step>=6 && f.state.love>=600 && f.state.lust>=120" ]
[tx_img tx1=希尔薇已经只关心你了 l=y][tx_img tx1=考えていません。 l=y]
[elsif exp="f.state.step>=6 && f.x_count.sex==0" ]
[tx_img tx1=シルヴィはあなたのことを[tx_img tx1=心から想っています。 l=y]
[elsif exp="f.state.step==6" ]
[tx_img tx1=シルヴィはあなたのことを l=y][tx_img tx1=心から想っています。 l=y]
[endif]

[p][return_menu]

;エロステータス
*h_status
[cm][_][hide_role][c_mod n=win st=room/h_status ][eval exp="f.act.system=1" ]
[xy x=933 y=100 x_add=270 y_add=45 s=27 ][btn/xy]
[tx_img tx1=淫乱度 n=f.state.lust l=y]
[eval exp="f.tx[1]='性欲不满度「'" ]
[if exp="f.temp_flg.sexless_c==1" ][tx_img tx1=1 tx2=恋慕人的肌肤」]
[elsif exp="f.temp_flg.sexless_c==2" ][tx_img tx1=1 tx2=欲求不满」]
[elsif exp="f.temp_flg.sexless_c==3" ][tx_img tx1=1 tx2=忍耐的极限」][endif]

[iscript]
tf.x_count_temp= {m:f.h_state.m/10 ,b:f.h_state.b/10 ,c:f.h_state.c/10 ,v:f.h_state.v/10}
if(tf.x_count_temp.m>=300){tf.x_count_temp.m=300;}
if(tf.x_count_temp.c>=300){tf.x_count_temp.c=300;}
if(tf.x_count_temp.v>=300){tf.x_count_temp.v=300;}
if(tf.x_count_temp.b>=300){tf.x_count_temp.b=300;}
[endscript]

[eval exp="f.y.bace+=f.y.add*1.5" ][xy x=900 x_add=290 ][btn/xy]
[tx_img l=x tx1='感度/口' n=tf.x_count_temp.m tx2='％' cond="f.h_state.m>=1"]
[tx_img l=x tx1='感度/胸' n=tf.x_count_temp.b tx2='％' cond="f.h_state.b>=1"]
[add_y]
[tx_img l=x tx1='感度/阴道' n=tf.x_count_temp.c tx2='％' cond="f.h_state.c>=1"]
[tx_img l=x tx1='感度/阴道' n=tf.x_count_temp.v tx2='％' cond="f.h_state.v>=1"]

[eval exp="f.y.bace+=f.y.add*1.5" ][xy x=900 ][btn/xy x=2]
[tx_img l=x tx1=做爱次数 n=f.x_count.sex tx2=回]
[tx_img l=x tx1=希尔薇高潮 n=f.h_count.ext tx2=回 ]
[tx_img l=x tx1=阴道的高潮 n=f.h_count.ext_v tx2=回 cond="f.h_count.ext_v>=1" ]
[tx_img l=x tx1=胸的高潮 n=f.h_count.ext_b tx2=回 cond="f.h_count.ext_b>=1" ]
[tx_img l=x tx1=口的高潮 n=f.h_count.ext_m tx2=回 cond="f.h_count.ext_m>=1" ]
[tx_img l=x tx1=阴道的高潮 n=f.h_count.ext_c tx2=回 cond="f.h_count.ext_c>=1" ]

[tx_img l=x tx1=中出 n=f.h_count.cum tx2=回 cond="f.h_count.cum>=1"]
[tx_img l=x tx1=爆破 n=f.h_count.kake tx2=回 cond="f.h_count.kake>=1"]
[tx_img l=x tx1=口交 n=f.h_count.oral tx2=回 cond="f.h_count.oral>=1"]
[tx_img l=x tx1=射精 n=f.h_count.drink tx2=回 cond="f.h_count.drink>=1"]
[tx_img l=x tx1=深吻 n=f.h_count.d_kiss tx2=回]
[tx_img l=x tx1=希尔薇自慰 n=f.x_count.self tx2=回 cond="f.x_count.self>=1"]

[tx_img l=x tx1=森林中的强奸 n=f.x_count.forest tx2=回 cond="f.x_count.forest>=1"]
[tx_img l=x tx1=诊疗所H n=f.x_count.work tx2=回 cond="f.x_count.work>=1"]
[tx_img l=x tx1=酒后通奸 n=f.x_count.drunk tx2=回 cond="f.x_count.drunk>=1"]
[tx_img l=x tx1=夜里爬行 n=f.x_count.sleep tx2=回 cond="f.x_count.sleep>=1"]
[tx_img l=x tx1=厨房 n=f.x_count.kitchen tx2=回 cond="f.x_count.kitchen>=1"]
[p][return_menu]
;;呼称変更----------------------------------------------------------------------------------------------
*name_call_change
[cm][hide_role][eval exp="f.act.system=1" ][_][xy s=30 preg1='menu/room/name_call/' ]
[if exp="f.x_count.sex>=1" ][c_mod n=win st=room/call_show_both ][else]
[c_mod n=win st=room/call_show ][endif]
[xy x=937 y=165 y_add=105][btn/xy][tx_img l=y n=f.name.call]
[if exp="f.name.call!=f.name.c_kana" ][tx_img l=y n=f.name.c_kana]
[else][tx_img l=y tx1=同上或未设定][endif]
[if exp="f.x_count.sex>=1" ][eval exp="f.y.bace+=72" ][tx_img l=y n=f.name_h.call]
	[if exp="f.name_h.call!=f.name_h.c_kana" ][tx_img l=y n=f.name_h.c_kana]
	[else][tx_img l=y tx1=同上或未设定][endif]
[endif]
[xy x=1400]
[btn/ y=114 tg='*call_change_def' g=1 gr=change ]
[btn/ y=398 tg='*call_change_h' g=1 gr=change cond="f.x_count.sex>=1" ]
[btn/ x=890 y=646 tg=*return_menu g=1 gr=remind ][s]

*call_change_def
[cm][eval exp="tf.name_call=f.name.call, tf.name_type=f.name.type, tf.name_sub=f.name.sub, tf.name_s_kana=f.name.s_kana, tf.name_c_kana=f.name.c_kana" ]

[syl][f/]希望改变称呼…是吗？[lr_]
[f/ m=s]好的，怎么称呼才好呢？[f/ m=st ]
[if exp="f.name.name!='未设定'" ][c_mod n=win st=room/call_change_all ][else][c_mod n=win st=room/call_change ][endif]

*name_edi
[free_tx][xy x=989 w=441 h=45][btn/xy]
[if exp="f.name.name=='未设定'" ]
	[tx_box y=202 ex=f.name.sub]
	[tx_box y=306 ex=f.name.s_kana]
	[btn/ x=1471 y=361 tg=*call_name g=1 gr=decide exp="f.name.type='other'" ]
[else]
	[tx_box x=1044 y=317 w=139 ex=f.name.n_add]
	[tx_box y=461 ex=f.name.sub]
	[tx_box y=565 ex=f.name.s_kana]
	[xy x=1471][btn/xy]
	[btn/ y=197 tg=*call_name g=1 gr=decide exp="f.name.type='name'" ]
	[btn/ y=335 tg=*call_name g=1 gr=decide exp="f.name.type='name_add'" ]
	[btn/ y=588 tg=*call_name g=1 gr=decide exp="f.name.type='other'" ]
	[xy x=1028 y=155 y_add=47][btn/xy]
	[tx_img l=y n=f.name.name]
	[tx_img l=y n=f.name.kana]
[endif]
[btn/ x=890 y=646 tg=*nop g=1 gr=remind ][s]

*call_name
[commit][cm]
[if exp="f.name.type=='other' && f.name.sub==''" ]
	[eval exp="f.name.type=tf.name_type" ]
	[eval exp="f.name.call=tf.name_call" ]
	[eval exp="f.name.s_kana=tf.name_s_kana" cond="f.name.s_kana==''"]
	[jump/ tg=*nop ]
[elsif exp="f.name.type!='other'" ]
	[eval exp="f.name.sub=tf.name_sub, f.name.s_kana=tf.name_s_kana" ]
[endif]

[if exp="f.name.type=='name_add' && f.name.n_add==''" ][eval exp="f.name.type='name'" ][endif]
[name_call_set][jump/ st=talk/room tg=*call_change_name ]

*nop
[cm][syl][f/]嗯，可以吗？[p_][return_menu]


;名前変更H系
*call_change_h
[cm][eval exp="tf.nameh_call=f.name_h.call, tf.nameh_type=f.name_h.type, tf.nameh_sub=f.name_h.sub, tf.nameh_s_kana=f.name_h.s_kana" ]
[syl][f/ c=p]啊，做的时候的称呼…是吗？[p_]
[m/re]…好的，怎么称呼才好呢？[f/ m=st ]
[if exp="f.name.name!='未设定'" ][c_mod n=win st=room/call_change_all ][else][c_mod n=win st=room/call_change ][endif]
*name_edi_h
[free_tx][xy x=989 w=441 h=45][btn/xy]
[if exp="f.name.name=='未设定'" ]
	[tx_box y=202 ex=f.name_h.sub]
	[tx_box y=306 ex=f.name_h.s_kana]
	[btn/ x=1471 y=361 tg=*call_name_h g=1 gr=decide exp="f.name_h.type='other'" ]
[else]
	[tx_box x=1044 y=317 w=139 ex=f.name_h.n_add]
	[tx_box y=461 ex=f.name_h.sub]
	[tx_box y=565 ex=f.name_h.s_kana]
	[xy x=1471][btn/xy]
	[btn/ y=197 tg=*call_name_h g=1 gr=decide exp="f.name_h.type='name'" ]
	[btn/ y=335 tg=*call_name_h g=1 gr=decide exp="f.name_h.type='name_add'" ]
	[btn/ y=588 tg=*call_name_h g=1 gr=decide exp="f.name_h.type='other'" ]
	[xy x=1028 y=155 y_add=47][btn/xy]
	[tx_img l=y n=f.name.name]
	[tx_img l=y n=f.name.kana]
[endif]
[btn/ x=890 y=646 tg=*nop g=1 gr=remind ][s]

*call_name_h
[commit][cm]
[if exp="f.name_h.type=='other' && f.name_h.sub==''" ]
	[eval exp="f.name_h.type=tf.nameh_type" ]
	[eval exp="f.name_h.call=tf.nameh_call" ]
	[eval exp="f.name_h.s_kana=tf.nameh_s_kana" cond="f.name_h.s_kana==''"]
	[jump/ tg=*nop ]
[elsif exp="f.name_h.type!='other'" ]
	[eval exp="f.name_h.sub=tf.nameh_sub, f.name_h.s_kana=tf.nameh_s_kana" ]
[endif]

[if exp="f.name_h.type=='name_add' && f.name_h.n_add==''" ][eval exp="f.name_h.type='name'" ][endif]
[name_call_set][jump/ tg=*call_h_tx ]
*call_h_tx
[if exp="f.name_h.call==f.name.call" ]
[m/re]和往常一样吗？我明白了。
[elsif exp="f.state.lust>=800" ][f/ ei=h m=s]好的，那么…做的时候[name h=1]这样称呼吧…♡
[else][m/re]好的，那么那个…做的时候[name h=1]称呼。[endif]
[p_][return_menu]
*nop_h
[cm][if exp="f.name_h.call==''" ][eval exp="f.name_h.call=tf.name_h_temp[0]" ][endif]
[m/re]嗯，可以吗？[p_][return_menu]

;;エロワード-------------------------------------------------------------------------------------------
*h_word
[cm][hide_role][eval exp="f.act.system=1, f.act.last_tf=0, f.tab.main='svp', f.tab.sub='a'" ]
;[if exp="f.x_count.sex>=1" ][eval exp="f.tab.main='svp'" ]
[syl][f/ c=p]做的时候的说话方法…吗？[p_]
;[endif]
[_]

*h_word_tab
[xy x=1164 y=94 x_add=100 preg1='menu/room/h_word/' tg1='*h_word_tab' ][btn/xy][clearfix]
;[eval exp="tf.role_name='h_word_tab'" ]
[btn/fix l=x tg=1 g=1 gr=m_svp sw=tab.main swm=svp exp="f.tab.main='svp'"]
[btn/fix l=x tg=1 g=1 gr=m_sss sw=tab.main swm=sss exp="f.tab.main='sss'"]
;[btn/fix l=x tg=1 g=1 gr=m_one sw=tab.main swm=ondr exp="f.tab.main='ondr'"][eval exp="f.x.bace+=12" ]
[btn/fix l=x tg=1 g=1 gr=m_other sw=tab.main swm=other exp="f.tab.main='other'"]

[btn/fix x=884 y=643 tg=*h_word_end g=1 gr=done]
[eval exp="f.st[1]='room/hw_'+f.tab.main" ][c_mod n=win st=1 ]
[eval exp="f.tg[1]='h_word_menu_'+f.tab.main" ][jump/ tg=1 ]

*h_word_menu_svp
[cm][clearstack][free_tx][xy tg1='*h_word_menu_svp' tg2='*p_call_del' tg3='*v_call_del' ]
;頻度ボタン
[xy x=1298 y=161 x_add=45 y_add=242 ][btn/xy]
[if exp="f.Hxns_v[1]!=''" ]
[btn/ l=x tg=1 g=1 gr=amount_non sw=Hxns_v[0] swm=0 exp="f.Hxns_v[0]=0" ][eval exp="f.x.bace+=10" ]
[btn/ l=x tg=1 g=1 gr=amount_1 sw=Hxns_v[0] swm=1 exp="f.Hxns_v[0]=1" ]
[btn/ l=x tg=1 g=1 gr=amount_2 sw=Hxns_v[0] swm=2 exp="f.Hxns_v[0]=2" ]
[btn/ l=x tg=1 g=1 gr=amount_3 sw=Hxns_v[0] swm=3 exp="f.Hxns_v[0]=3" ]
[btn/ l=x tg=1 g=1 gr=amount_4 sw=Hxns_v[0] swm=4 exp="f.Hxns_v[0]=4" ][endif][add_y]
[if exp="f.Hxns_p[1]!=''" ]
[btn/ l=x tg=1 g=1 gr=amount_non sw=Hxns_p[0] swm=0 exp="f.Hxns_p[0]=0" ][eval exp="f.x.bace+=10" ]
[btn/ l=x tg=1 g=1 gr=amount_1 sw=Hxns_p[0] swm=1 exp="f.Hxns_p[0]=1" ]
[btn/ l=x tg=1 g=1 gr=amount_2 sw=Hxns_p[0] swm=2 exp="f.Hxns_p[0]=2" ]
[btn/ l=x tg=1 g=1 gr=amount_3 sw=Hxns_p[0] swm=3 exp="f.Hxns_p[0]=3" ]
[btn/ l=x tg=1 g=1 gr=amount_4 sw=Hxns_p[0] swm=4 exp="f.Hxns_p[0]=4" ]
[endif][add_y]

[xy x=941 y=210 x_add=357 y_add=52 s=28 ][btn/xy]
[tx_img n=f.Hxns_v[1] l=x cond="f.Hxns_v[1]!=''" ][tx_img n=f.Hxns_v[2] l=x cond="f.Hxns_v[2]!=''" ][add_y]
[tx_img n=f.Hxns_v[3] l=x cond="f.Hxns_v[3]!=''" ][tx_img n=f.Hxns_v[4] l=x cond="f.Hxns_v[4]!=''" ]
[add_y][eval exp="f.y.bace+=137" ]
[tx_img n=f.Hxns_p[1] l=x cond="f.Hxns_p[1]!=''" ][tx_img n=f.Hxns_p[2] l=x cond="f.Hxns_p[2]!=''" ][add_y]
[tx_img n=f.Hxns_p[3] l=x cond="f.Hxns_p[3]!=''" ][tx_img n=f.Hxns_p[4] l=x cond="f.Hxns_p[4]!=''" ]

;取り消しボタン
[xy x=859 y=215 ][btn/xy]
[btn/ cond="f.Hxns_v[1]!=''" l=x tg=2 g=1 gr=delete exp="f.Hxns_v[1]=''" ]
[btn/ cond="f.Hxns_v[2]!=''" l=x tg=2 g=1 gr=delete exp="f.Hxns_v[2]=''" ][add_y]
[btn/ cond="f.Hxns_v[3]!=''" l=x tg=2 g=1 gr=delete exp="f.Hxns_v[3]=''" ]
[btn/ cond="f.Hxns_v[4]!=''" l=x tg=2 g=1 gr=delete exp="f.Hxns_v[4]=''" ]
[add_y][eval exp="f.y.bace+=137" ]
[btn/ cond="f.Hxns_p[1]!=''" l=x tg=3 g=1 gr=delete exp="f.Hxns_p[1]=''" ]
[btn/ cond="f.Hxns_p[2]!=''" l=x tg=3 g=1 gr=delete exp="f.Hxns_p[2]=''" ][add_y]
[btn/ cond="f.Hxns_p[3]!=''" l=x tg=3 g=1 gr=delete exp="f.Hxns_p[3]=''" ]
[btn/ cond="f.Hxns_p[4]!=''" l=x tg=3 g=1 gr=delete exp="f.Hxns_p[4]=''" ]

[xy x=867 y=327 y_add=242 w=531 h=32][btn/xy]
[if exp="f.Hxns_v[1]==''" ][tx_box ex=f.Hxns_v[1] ]
[elsif exp="f.Hxns_v[2]==''" ][tx_box ex=f.Hxns_v[2] ]
[elsif exp="f.Hxns_v[3]==''" ][tx_box ex=f.Hxns_v[3] ]
[elsif exp="f.Hxns_v[4]==''" ][tx_box ex=f.Hxns_v[4] ][endif]
[add_y]
[if exp="f.Hxns_p[1]==''" ][tx_box ex=f.Hxns_p[1] ]
[elsif exp="f.Hxns_p[2]==''" ][tx_box ex=f.Hxns_p[2] ]
[elsif exp="f.Hxns_p[3]==''" ][tx_box ex=f.Hxns_p[3] ]
[elsif exp="f.Hxns_p[4]==''" ][tx_box ex=f.Hxns_p[4] ][endif]

[xy x=1417 y=322 ][btn/xy]
[btn/ tg=*h_call_sbm g=1 gr=add_word cond="f.Hxns_v[4]==''"][add_y]
[btn/ tg=*h_call_sbm g=1 gr=add_word cond="f.Hxns_p[4]==''" ]
[s]

*h_word_menu_sss
[cm][clearstack][free_tx][xy tg1='*h_word_menu_sss' tg2='*sx_call_del' tg3='*z_call_del' ]
[xy x=1298 y=161 x_add=45 y_add=242 ][btn/xy]
;頻度ボタン
[if exp="f.Hxns_x[1]!=''" ]
[btn/ l=x tg=1 g=1 gr=amount_non sw=Hxns_x[0] swm=0 exp="f.Hxns_x[0]=0" ][eval exp="f.x.bace+=10" ]
[btn/ l=x tg=1 g=1 gr=amount_1 sw=Hxns_x[0] swm=1 exp="f.Hxns_x[0]=1" ]
[btn/ l=x tg=1 g=1 gr=amount_2 sw=Hxns_x[0] swm=2 exp="f.Hxns_x[0]=2" ]
[btn/ l=x tg=1 g=1 gr=amount_3 sw=Hxns_x[0] swm=3 exp="f.Hxns_x[0]=3" ]
[btn/ l=x tg=1 g=1 gr=amount_4 sw=Hxns_x[0] swm=4 exp="f.Hxns_x[0]=4" ][endif][add_y]
[if exp="f.Hxns_z[1]!=''" ]
[btn/ l=x tg=1 g=1 gr=amount_non sw=Hxns_z[0] swm=0 exp="f.Hxns_z[0]=0" ][eval exp="f.x.bace+=10" ]
[btn/ l=x tg=1 g=1 gr=amount_1 sw=Hxns_z[0] swm=1 exp="f.Hxns_z[0]=1" ]
[btn/ l=x tg=1 g=1 gr=amount_2 sw=Hxns_z[0] swm=2 exp="f.Hxns_z[0]=2" ]
[btn/ l=x tg=1 g=1 gr=amount_3 sw=Hxns_z[0] swm=3 exp="f.Hxns_z[0]=3" ]
[btn/ l=x tg=1 g=1 gr=amount_4 sw=Hxns_z[0] swm=4 exp="f.Hxns_z[0]=4" ][endif][add_y]

[xy x=941 y=210 x_add=357 y_add=52 s=28 ][btn/xy]
[tx_img n=f.Hxns_x[1] l=x cond="f.Hxns_x[1]!=''" ][tx_img n=f.Hxns_x[2] l=x cond="f.Hxns_x[2]!=''" ][add_y]
[tx_img n=f.Hxns_x[3] l=x cond="f.Hxns_x[3]!=''" ][tx_img n=f.Hxns_x[4] l=x cond="f.Hxns_x[4]!=''" ]
[add_y][eval exp="f.y.bace+=137" ]
[tx_img n=f.Hxns_z[1] l=x cond="f.Hxns_z[1]!=''" ][tx_img n=f.Hxns_z[2] l=x cond="f.Hxns_z[2]!=''" ][add_y]
[tx_img n=f.Hxns_z[3] l=x cond="f.Hxns_z[3]!=''" ][tx_img n=f.Hxns_z[4] l=x cond="f.Hxns_z[4]!=''" ]

;取り消しボタン
[xy x=859 y=215 ][btn/xy]
[btn/ cond="f.Hxns_x[1]!=''" l=x tg=2 g=1 gr=delete exp="f.Hxns_x[1]=''" ]
[btn/ cond="f.Hxns_x[2]!=''" l=x tg=2 g=1 gr=delete exp="f.Hxns_x[2]=''" ][add_y]
[btn/ cond="f.Hxns_x[3]!=''" l=x tg=2 g=1 gr=delete exp="f.Hxns_x[3]=''" ]
[btn/ cond="f.Hxns_x[4]!=''" l=x tg=2 g=1 gr=delete exp="f.Hxns_x[4]=''" ]
[add_y][eval exp="f.y.bace+=137" ]
[btn/ cond="f.Hxns_z[1]!=''" l=x tg=3 g=1 gr=delete exp="f.Hxns_z[1]=''" ]
[btn/ cond="f.Hxns_z[2]!=''" l=x tg=3 g=1 gr=delete exp="f.Hxns_z[2]=''" ][add_y]
[btn/ cond="f.Hxns_z[3]!=''" l=x tg=3 g=1 gr=delete exp="f.Hxns_z[3]=''" ]
[btn/ cond="f.Hxns_z[4]!=''" l=x tg=3 g=1 gr=delete exp="f.Hxns_z[4]=''" ]

[xy x=867 y=327 y_add=242 w=531 h=32][btn/xy]
[if exp="f.Hxns_x[1]==''" ][tx_box ex=f.Hxns_x[1] ]
[elsif exp="f.Hxns_x[2]==''" ][tx_box ex=f.Hxns_x[2] ]
[elsif exp="f.Hxns_x[3]==''" ][tx_box ex=f.Hxns_x[3] ]
[elsif exp="f.Hxns_x[4]==''" ][tx_box ex=f.Hxns_x[4] ][endif]
[add_y]
[if exp="f.Hxns_z[1]==''" ][tx_box ex=f.Hxns_z[1] ]
[elsif exp="f.Hxns_z[2]==''" ][tx_box ex=f.Hxns_z[2] ]
[elsif exp="f.Hxns_z[3]==''" ][tx_box ex=f.Hxns_z[3] ]
[elsif exp="f.Hxns_z[4]==''" ][tx_box ex=f.Hxns_z[4] ][endif]

[xy x=1417 y=322 ][btn/xy]
[btn/ tg=*h_call_sbm g=1 gr=add_word cond="f.Hxns_x[4]==''"][add_y]
[btn/ tg=*h_call_sbm g=1 gr=add_word cond="f.Hxns_z[4]==''" ]
[s]

*h_call_sbm
[commit][eval exp="f.tg[1]='*h_word_menu_'+f.tab.main" ][jump/ tg=1 ]

*p_call_del
[iscript]
if(f.Hxns_p[1]==''){f.Hxns_p[1]=f.Hxns_p[2], f.Hxns_p[2]=f.Hxns_p[3], f.Hxns_p[3]=f.Hxns_p[4];}
else if(f.Hxns_p[2]==''){f.Hxns_p[2]=f.Hxns_p[3], f.Hxns_p[3]=f.Hxns_p[4];}
else if(f.Hxns_p[3]==''){f.Hxns_p[3]=f.Hxns_p[4];}
if(f.Hxns_p[1]==''){f.Hxns_p[0]=0;}
f.Hxns_p[4]=''
[endscript]
[jump/ tg=*h_word_menu_svp ]
*v_call_del
[iscript]
if(f.Hxns_v[1]==''){f.Hxns_v[1]=f.Hxns_v[2], f.Hxns_v[2]=f.Hxns_v[3], f.Hxns_v[3]=f.Hxns_v[4];}
else if(f.Hxns_v[2]==''){f.Hxns_v[2]=f.Hxns_v[3], f.Hxns_v[3]=f.Hxns_v[4];}
else if(f.Hxns_v[3]==''){f.Hxns_v[3]=f.Hxns_v[4];}
if(f.Hxns_v[1]==''){f.Hxns_v[0]=0;}
f.Hxns_v[4]=''
[endscript]
[jump/ tg=*h_word_menu_svp ]
*sx_call_del
[iscript]
if(f.Hxns_x[1]==''){f.Hxns_x[1]=f.Hxns_x[2], f.Hxns_x[2]=f.Hxns_x[3], f.Hxns_x[3]=f.Hxns_x[4];}
else if(f.Hxns_x[2]==''){f.Hxns_x[2]=f.Hxns_x[3], f.Hxns_x[3]=f.Hxns_x[4];}
else if(f.Hxns_x[3]==''){f.Hxns_x[3]=f.Hxns_x[4];}
if(f.Hxns_x[1]==''){f.Hxns_x[0]=0;}
f.Hxns_x[4]=''
[endscript]
[jump/ tg=*h_word_menu_sss ]
*z_call_del
[iscript]
if(f.Hxns_z[1]==''){f.Hxns_z[1]=f.Hxns_z[2], f.Hxns_z[2]=f.Hxns_z[3], f.Hxns_z[3]=f.Hxns_z[4];}
else if(f.Hxns_z[2]==''){f.Hxns_z[2]=f.Hxns_z[3], f.Hxns_z[3]=f.Hxns_z[4];}
else if(f.Hxns_z[3]==''){f.Hxns_z[3]=f.Hxns_z[4];}
if(f.Hxns_z[1]==''){f.Hxns_z[0]=0;}
f.Hxns_z[4]=''
[endscript]
[jump/ tg=*h_word_menu_sss ]


;;
*h_word_menu_ondr
[cm][free_tx][clearfix name='h_nedari_tab'][clearfix name='h_nedari_add']
[eval exp="tf.role_name='h_nedari_tab'" ]
[xy x=1038 y=130 x_add=60 tg1='*h_word_menu_ondr' ][btn/xy]
[btn/fix l=x tg=1 g=1 gr=sub_a sw=tab.sub swm=a exp="f.tab.sub='a'"]
[btn/fix l=x tg=1 g=1 gr=sub_b sw=tab.sub swm=b exp="f.tab.sub='b'"]
[btn/fix l=x tg=1 g=1 gr=sub_c sw=tab.sub swm=c exp="f.tab.sub='c'"]
[btn/fix l=x tg=1 g=1 gr=sub_ammount sw=tab.sub swm=ammount exp="f.tab.sub='ammount'"]
[if exp="f.tab.sub=='ammount'" ][c_mod n=win st=room/hw_ondr_b ][jump/ tg=*h_word_menu_ondr_ammount ][endif]
[c_mod n=win st=room/hw_ondr ]

*h_word_menu_ondr_abc
[xy tg1='*commit_ondr_w1' tg2='*commit_ondr_w2' tg3='*h_word_menu_ondr_' ]
[eval exp="tf.role_name='h_nedari_add'" ]
[xy x=697 y=232 x_add=106 y_add=192 ][btn/xy]
[btn/fix l=x tg=1 g=1 gr=ondr_name exp="tf.add_w1='“主人公名“'" cond="f.name.name!='未设定'" ]
[btn/fix l=x tg=1 g=1 gr=ondr_p exp="tf.add_w1='“男性器“'" cond="f.Hxns_p[1]!=''" ]
[btn/fix l=x tg=1 g=1 gr=ondr_v exp="tf.add_w1='“女性器“'" cond="f.Hxns_v[1]!=''" ]
[btn/fix l=x tg=1 g=1 gr=ondr_x exp="tf.add_w1='“性行“'" cond="f.Hxns_x[1]!=''" ]
[btn/fix l=x tg=1 g=1 gr=ondr_z exp="tf.add_w1='“精液“'" cond="f.Hxns_z[1]!=''" ]
[add_y]
[btn/fix l=x tg=2 g=1 gr=ondr_name exp="tf.add_w2='“主人公名“'" cond="f.name.name!='未设定'" ]
[btn/fix l=x tg=2 g=1 gr=ondr_p exp="tf.add_w2='“男性器“'" cond="f.Hxns_p[1]!=''" ]
[btn/fix l=x tg=2 g=1 gr=ondr_v exp="tf.add_w2='“女性器“'" cond="f.Hxns_v[1]!=''" ]
[btn/fix l=x tg=2 g=1 gr=ondr_x exp="tf.add_w2='“性行“'" cond="f.Hxns_x[1]!=''" ]
[btn/fix l=x tg=2 g=1 gr=ondr_z exp="tf.add_w2='“精液“'" cond="f.Hxns_z[1]!=''" ]

[btn/fix x=1075 y=571 tg=*ondr_text g=1 gr=sample_say ]

*h_word_menu_ondr_
[cm][xy x=697 y=275 x_add=510 h=41 w=495 y_add=192 ][btn/xy]
[tx_box l=x ex=tf.add_w1_tx][btn/ l=x tg=1 g=1 gr=add_tx exp="tf.add_w1='text'" ][add_y]
[tx_box l=x ex=tf.add_w2_tx][btn/ l=x tg=2 g=1 gr=add_tx exp="tf.add_w2='text'" ]

[xy x=1210 y=190 y_add=42 ][btn/xy]
[if exp="f.tab.sub=='a'" ]
	[btn/ l=y tg=3 g=1 gr=reset_all exp="f.ondr_tx_a1=[], f.ondr_tx_a1=[''], f.ondr.a1_max=0" ]
	[btn/ l=y tg=3 g=1 gr=del_one exp="f.ondr_tx_a1[f.ondr.a1_max]='', f.ondr.a1_max-=1" cond="f.ondr.a1_max>=1"]
	[xy y=382][btn/xy]
	[btn/ l=y tg=3 g=1 gr=reset_all exp="f.ondr_tx_a2=[], f.ondr_tx_a2=[''], f.ondr.a2_max=0" ]
	[btn/ l=y tg=3 g=1 gr=del_one exp="f.ondr_tx_a2[f.ondr.a2_max]='', f.ondr.a2_max-=1" cond="f.ondr.a2_max>=1"]
[elsif exp="f.tab.sub=='b'" ]
	[btn/ l=y tg=3 g=1 gr=reset_all exp="f.ondr_tx_b1=[], f.ondr_tx_b1=[''], f.ondr.b1_max=0" ]
	[btn/ l=y tg=3 g=1 gr=del_one exp="f.ondr_tx_b1[f.ondr.b1_max]='', f.ondr.b1_max-=1" cond="f.ondr.b1_max>=1"]
	[xy y=382 ][btn/xy]
	[btn/ l=y tg=3 g=1 gr=reset_all exp="f.ondr_tx_b2=[], f.ondr_tx_b2=[''], f.ondr.b2_max=0" ]
	[btn/ l=y tg=3 g=1 gr=del_one exp="f.ondr_tx_b2[f.ondr.b2_max]='', f.ondr.b2_max-=1" cond="f.ondr.b2_max>=1"]
[elsif exp="f.tab.sub=='c'" ]
	[btn/ l=y tg=3 g=1 gr=reset_all exp="f.ondr_tx_c1=[], f.ondr_tx_c1=[''], f.ondr.c1_max=0" ]
	[btn/ l=y tg=3 g=1 gr=del_one exp="f.ondr_tx_c1[f.ondr.c1_max]='', f.ondr.c1_max-=1" cond="f.ondr.c1_max>=1"]
	[xy y=382 ][btn/xy]
	[btn/ l=y tg=3 g=1 gr=reset_all exp="f.ondr_tx_c2=[], f.ondr_tx_c2=[''], f.ondr.c2_max=0" ]
	[btn/ l=y tg=3 g=1 gr=del_one exp="f.ondr_tx_c2[f.ondr.c2_max]='', f.ondr.c2_max-=1" cond="f.ondr.c2_max>=1"]
[endif]

*ondr_text_show
[free_tx]
[iscript]
tf.test_tx1='',tf.test_tx2=''
if(f.tab.sub=='a'){
for (var i=0; i<f.ondr_tx_a1.length; i++) tf.test_tx1 += f.ondr_tx_a1[i]
for (var i=0; i<f.ondr_tx_a2.length; i++) tf.test_tx2 += f.ondr_tx_a2[i];}
else if(f.tab.sub=='b'){
for (var i=0; i<f.ondr_tx_b1.length; i++) tf.test_tx1 += f.ondr_tx_b1[i];
for (var i=0; i<f.ondr_tx_b2.length; i++) tf.test_tx2 += f.ondr_tx_b2[i];}
else if(f.tab.sub=='c'){
for (var i=0; i<f.ondr_tx_c1.length; i++) tf.test_tx1 += f.ondr_tx_c1[i];
for (var i=0; i<f.ondr_tx_c2.length; i++) tf.test_tx2 += f.ondr_tx_c2[i];}
f.tx[1]=tf.test_tx1 ,f.tx[2]=tf.test_tx2
[endscript]
[xy x=680 y=334 y_add=190 s=18][btn/xy]
[tx_img tx1=1 l=y][tx_img tx1=2 l=y][clearstack][s]


*commit_ondr_w1
[commit]
[iscript]
if(tf.add_w1=='text'){tf.add_w1=tf.add_w1_tx;}
if(tf.add_w1!='' && tf.add_w1!=tf.non){
	if(f.tab.sub=='a'){f.ondr.a1_max+=1, f.ondr_tx_a1[f.ondr.a1_max]=tf.add_w1;}
	else if(f.tab.sub=='b'){f.ondr.b1_max+=1, f.ondr_tx_b1[f.ondr.b1_max]=tf.add_w1;}
	else if(f.tab.sub=='c'){f.ondr.c1_max+=1, f.ondr_tx_c1[f.ondr.c1_max]=tf.add_w1;}}
[endscript]
[jump/ tg=*h_word_menu_ondr_ ]

*commit_ondr_w2
[commit]
[iscript]
if(tf.add_w2=='text'){tf.add_w2=tf.add_w2_tx;}
if(tf.add_w2!='' && tf.add_w2!=tf.non){
	if(f.tab.sub=='a'){f.ondr.a2_max+=1, f.ondr_tx_a2[f.ondr.a2_max]=tf.add_w2;}
	else if(f.tab.sub=='b'){f.ondr.b2_max+=1, f.ondr_tx_b2[f.ondr.b2_max]=tf.add_w2;}
	else if(f.tab.sub=='c'){f.ondr.c2_max+=1, f.ondr_tx_c2[f.ondr.c2_max]=tf.add_w2;}}
[endscript]
[jump/ tg=*h_word_menu_ondr_ ]

*h_word_menu_ondr_ammount
[cm][xy x=000 y=000 x_add=000 y_add=000 tg1='*h_word_menu_ondr_ammount' ]

[xy x=771 y=193 x_add=259 y_add=54 ][btn/xy]
[btn/ l=x tg=1 g=1 gr=ondr_when_non sw=ondr.when swm=non exp="f.ondr.when='non'" ]
[btn/ l=x tg=1 g=1 gr=ondr_when_all sw=ondr.when swm=all exp="f.ondr.when='all'" ][add_y]
[btn/ l=x tg=1 g=1 gr=ondr_when_syl sw=ondr.when swm=syl exp="f.ondr.when='syl'" ]

[xy x=959 y=320 x_add=117 ][btn/xy]

[if exp="f.ondr.sw_a==1" ]
[btn/ l=x tg=1 g=1 gr=ondr_sw_a_on exp="f.ondr.sw_a=0" ][else]
[btn/ l=x tg=1 g=1 gr=ondr_sw_a_off exp="f.ondr.sw_a=1" ][endif]
[if exp="f.ondr.sw_b==1" ]
[btn/ l=x tg=1 g=1 gr=ondr_sw_b_on exp="f.ondr.sw_b=0" ][else]
[btn/ l=x tg=1 g=1 gr=ondr_sw_b_off exp="f.ondr.sw_b=1" ][endif]
[if exp="f.ondr.sw_c==1" ]
[btn/ l=x tg=1 g=1 gr=ondr_sw_c_on exp="f.ondr.sw_c=0" ][else]
[btn/ l=x tg=1 g=1 gr=ondr_sw_c_off exp="f.ondr.sw_c=1" ][endif]


[free_tx][xy x=714 y=380 y_add=31 s=18][btn/xy]
[iscript]
tf.test_tx1='',tf.test_tx2=''
for (var i=0; i<f.ondr_tx_a1.length; i++) tf.test_tx1 += f.ondr_tx_a1[i]
for (var i=0; i<f.ondr_tx_a2.length; i++) tf.test_tx2 += f.ondr_tx_a2[i]
f.tx[1]=tf.test_tx1 ,f.tx[2]=tf.test_tx2
[endscript]
[tx_img tx1=1 l=y][tx_img tx1=2 l=y][eval exp="f.y.bace+=22" ]
[iscript]
tf.test_tx1='',tf.test_tx2=''
for (var i=0; i<f.ondr_tx_b1.length; i++) tf.test_tx1 += f.ondr_tx_b1[i];
for (var i=0; i<f.ondr_tx_b2.length; i++) tf.test_tx2 += f.ondr_tx_b2[i];
f.tx[1]=tf.test_tx1 ,f.tx[2]=tf.test_tx2
[endscript]
[tx_img tx1=1 l=y][tx_img tx1=2 l=y][eval exp="f.y.bace+=22" ]
[iscript]
tf.test_tx1='',tf.test_tx2=''
for (var i=0; i<f.ondr_tx_c1.length; i++) tf.test_tx1 += f.ondr_tx_c1[i];
for (var i=0; i<f.ondr_tx_c2.length; i++) tf.test_tx2 += f.ondr_tx_c2[i];
f.tx[1]=tf.test_tx1 ,f.tx[2]=tf.test_tx2
[endscript]
[tx_img tx1=1 l=y][tx_img tx1=2 l=y][clearstack][s]



*h_word_menu_other
[cm][clearstack][free_tx]
;[c_mod n=win st=room/hw_other ]
[xy x=1220 y=175 x_add=120 tg1='*h_word_menu_other' ][btn/xy]
[btn/ l=x tg=1 g=1 gr=ask sw=x_speak swm=1 exp="f.g_config.x_speak=1" ]
[btn/ l=x tg=1 g=1 gr=not sw=x_speak swm=0 exp="f.g_config.x_speak=0" ]
[s]


*h_word_end
[cm][clearstack][clearfix][free_tx]
[iscript]
;地の文隠語登録数カウント
if(f.Hxn_iv[4]!=''){f.Hxn_iv[0]=4;} else if(f.Hxn_iv[3]!=''){f.Hxn_iv[0]=3;}
else if(f.Hxn_iv[2]!=''){f.Hxn_iv[0]=2;} else{f.Hxn_iv[0]=1;}
if(f.Hxn_v[4]!=''){f.Hxn_v[0]=4;} else if(f.Hxn_v[3]!=''){f.Hxn_v[0]=3;}
else if(f.Hxn_v[2]!=''){f.Hxn_v[0]=2;} else{f.Hxn_v[0]=1;}
if(f.Hxn_c[4]!=''){f.Hxn_c[0]=4;} else if(f.Hxn_c[3]!=''){f.Hxn_c[0]=3;}
else if(f.Hxn_c[2]!=''){f.Hxn_c[0]=2;} else{f.Hxn_c[0]=1;}
if(f.Hxn_p[4]!=''){f.Hxn_p[0]=4;} else if(f.Hxn_p[3]!=''){f.Hxn_p[0]=3;}
else if(f.Hxn_p[2]!=''){f.Hxn_p[0]=2;} else{f.Hxn_p[0]=1;}
[endscript]
[if exp="f.x_count.sex>=1" ][syl]
	[if exp="f.state.lust>=800" ][f/ y=c e=half ei=h m=s]…是的。[r]就这样做吧♡[else]
	[f/ e=cl c=p]…我明白了。就这么办。[endif]
[endif][p_][return_menu]

;;おねだりテキスト
*ondr_text
[cm][eval exp="tf.word_num=0, tf.text='', tf.line='1st'" ]
[f/ e=half c=p]
*ondr_loop
[eval exp="tf.word_num+=1" ]
[if exp="tf.line=='1st'" ]
	[eval exp="tf.ondr_w=f.ondr_tx_a1[tf.word_num]" cond="f.tab.sub=='a'" ]
	[eval exp="tf.ondr_w=f.ondr_tx_b1[tf.word_num]" cond="f.tab.sub=='b'" ]
	[eval exp="tf.ondr_w=f.ondr_tx_c1[tf.word_num]" cond="f.tab.sub=='c'" ]
[elsif exp="tf.line=='2nd'" ]
	[eval exp="tf.ondr_w=f.ondr_tx_a2[tf.word_num]" cond="f.tab.sub=='a'" ]
	[eval exp="tf.ondr_w=f.ondr_tx_b2[tf.word_num]" cond="f.tab.sub=='b'" ]
	[eval exp="tf.ondr_w=f.ondr_tx_c2[tf.word_num]" cond="f.tab.sub=='c'" ]
[endif]

[if exp="tf.ondr_w=='“主人公名“'" ][name/h unvoice=1][eval exp="tf.word=tf.ncall_name" ]
[elsif exp="tf.ondr_w=='“女性器“'" ][Hxns n=v unvoice=1][eval exp="tf.word=tf.ncall_v" ]
[elsif exp="tf.ondr_w=='“男性器“'" ][Hxns n=p unvoice=1][eval exp="tf.word=tf.ncall_p" ]
[elsif exp="tf.ondr_w=='“性行“'" ][Hxns n=x unvoice=1][eval exp="tf.word=tf.ncall_sex" ]
[elsif exp="tf.ondr_w=='“精液“'" ][Hxns n=z unvoice=1][eval exp="tf.word=tf.ncall_z" ]
[else][eval exp="tf.word=tf.ondr_w" ][endif]

[eval exp="tf.text+=tf.word" cond="tf.word!=tf.non"]

[if exp="tf.line=='1st'" ]
	[jump/ tg=*ondr_loop cond="f.tab.sub=='a' && tf.word_num<f.ondr.a1_max"]
	[jump/ tg=*ondr_loop cond="f.tab.sub=='b' && tf.word_num<f.ondr.b1_max"]
	[jump/ tg=*ondr_loop cond="f.tab.sub=='c' && tf.word_num<f.ondr.c1_max"]
	[emb exp="tf.text" ][r][eval exp="tf.line='2nd', tf.word_num=0, tf.text=''" ][jump/ tg=*ondr_loop]
[elsif exp="tf.line=='2nd'" ]
	[jump/ tg=*ondr_loop cond="f.tab.sub=='a' && tf.word_num<f.ondr.a2_max"]
	[jump/ tg=*ondr_loop cond="f.tab.sub=='b' && tf.word_num<f.ondr.b2_max"]
	[jump/ tg=*ondr_loop cond="f.tab.sub=='c' && tf.word_num<f.ondr.c2_max"]
	[emb exp="tf.text" ]
[endif]
[p_][jump/ tg=*h_word_menu_ondr_ ]


;;調合----------------------------------------------------------------------------------------------------
*medi
[cm][nolog][hide_role][eval exp="f.act.system=1" ]
[c_mod n=win st=room/medi ][_]
[if exp="f.item.flower_p>=1 || f.item.flower_b>=1" ][else]
材料不够。[p][return_menu][endif]
[xy x=890 y=150 y_add=75 preg1='menu/room/medi/' tg1='*medi_number' ]

[if exp="f.item.flower_p>=1 && f.x_count.sex>=1" ]
[btn/ l=y tg=1 g=1 gr=aroma_r exp="tf.medi_type='红色的百花香香',tf.flower_use='pink',tf.flower_temp=f.item.flower_p" ]
[btn/ l=y tg=1 g=1 gr=popu_r exp="tf.medi_type='红色的百花香利',tf.flower_use='pink',tf.flower_temp=f.item.flower_p" ]
[endif]
[if exp="f.item.flower_b>=1 && f.x_count.sex>=1" ]
;[btn/ l=y tg=1 g=1 gr=aroma_b exp="tf.medi_type='蓝色的百花香香',tf.flower_use='blue',tf.flower_temp=f.item.flower_b" ]
[btn/ l=y tg=1 g=1 gr=popu_b exp="tf.medi_type='蓝色的百花香利',tf.flower_use='blue',tf.flower_temp=f.item.flower_b" ]
[endif]
[btn/ y=646 tg=*return_menu g=1 gr=remind ]

[xy x=970 y=462 x_add=270 y_add=50 s=30 ][btn/xy]
[if exp="f.x_count.sex>=1" ]
	[tx_img tx1=粉红色的花- n=f.item.flower_p tx2=个 l=y c=pink]
	[if exp="f.item.popuri_p>=1" ][tx_img tx1=红色的百花香「 n=f.item.popuri_p tx2=」个 l=y c=pink][endif]
	[if exp="f.item.aroma_p>=1" ][tx_img tx1=红色的香「 n=f.item.aroma_p tx2=」个 l=y c=pink][endif]
	[add_x]
[endif]
[tx_img tx1=蓝色的花- n=f.item.flower_b tx2=个 l=y c=lightblue]
[if exp="f.item.popuri_b>=1" ][tx_img tx1=蓝色的百花香「 n=f.item.popuri_b tx2=」个 l=y c=lightblue][endif]
[if exp="f.item.aroma_b>=1" ][tx_img tx1=蓝色的香「 n=f.item.aroma_b tx2=」个 l=y c=lightblue][endif]
[s]

*medi_number
[cm][xy x=890 y=135 y_add=65 tg1=*medi_last_check][btn/xy]
[btn/ l=y tg=1 g=1 gr=use1 exp="tf.number=1" ]
[btn/ l=y tg=1 g=1 gr=use5 exp="tf.number=5" cond="tf.flower_temp>=5" ]
[btn/ l=y tg=1 g=1 gr=use10 exp="tf.number=10" cond="tf.flower_temp>=10" ]
[btn/ l=y tg=1 g=1 gr=useall exp="tf.number='all'" ]
[eval exp="f.y.bace+=15" ]
[btn/ y=646 tg=*return_menu g=1 gr=remind ]
[emb exp="tf.medi_type" ]做几个呢。[s]

*medi_last_check
[cm][if exp="tf.number=='all'" ][eval exp="tf.number=tf.flower_temp" ][endif]
[if exp="tf.flower_use=='pink'" ][eval exp="f.item.flower_p=f.item.flower_p - tf.number" ]
[elsif exp="tf.flower_use=='blue'" ][eval exp="f.item.flower_b=f.item.flower_b - tf.number" ][endif]

[if exp="tf.medi_type=='红色的百花香'" ][eval exp="f.item.popuri_p=f.item.popuri_p + tf.number" ]
[elsif exp="tf.medi_type=='蓝色的百花香'" ][eval exp="f.item.popuri_b=f.item.popuri_b + tf.number" ]
[elsif exp="tf.medi_type=='红色的香'" ][eval exp="f.item.aroma_p=f.item.aroma_p + tf.number" ]
[elsif exp="tf.medi_type=='蓝色的香'" ][eval exp="f.item.aroma_b=f.item.aroma_b + tf.number" ][endif]

[emb exp="tf.medi_type" ]打开[emb exp="tf.number" ]做了个。[p]
[return_menu]

;;ポプリ-------------------------------------------------------------------------------------------------
*pourri
[cm][nolog][hide_role][eval exp="f.act.system=1" ]
[c_mod n=win st=room/pourri ][_]
[xy x=895 y=165 y_add=85 preg1='menu/room/pourri/' ][btn/xy]
[if exp="f.g_config.pourri_use!='red' && f.item.popuri_p>=1" ]
	[btn/ l=y tg=*pourri_use g=1 gr=choose_r exp="f.g_config.pourri_use='red'" ][endif]
[if exp="f.g_config.pourri_use!='blue' && f.item.popuri_b>=1" ]
	[btn/ l=y tg=*pourri_use g=1 gr=choose_b exp="f.g_config.pourri_use='blue'" ][endif]
[if exp="f.g_config.pourri_use=='blue' || f.g_config.pourri_use=='red'" ]
	[btn/ l=y tg=*pourri_use g=1 gr=off exp="f.g_config.pourri_use='non'" ][endif]

[xy y=397 y_add=75 ][btn/xy]
[btn/ l=y tg=*pourri g=1 gr=oneday sw=pourri_time swm=1 exp="f.g_config.pourri_time=1" ]
[btn/ l=y tg=*pourri g=1 gr=everyday sw=pourri_time swm=every exp="f.g_config.pourri_time='every'" ]

[btn/ y=646 tg=*return_menu g=1 gr=remind ]

[xy x=963 y=565 x_add=270 y_add=50 s=30 ][btn/xy]
[tx_img tx1=红色的百花香- n=f.item.popuri_p tx2=个 l=x c=pink]
[tx_img tx1=蓝色的百花香- n=f.item.popuri_b tx2=个 l=x c=lightblue]

[xy x=1110 y=100 ]
[if exp="f.g_config.pourri_use=='red'" ][tx_img tx1=房间里放着红色的百花香]
[elsif exp="f.g_config.pourri_use=='blue'" ][tx_img tx1=房间里放着蓝色的百花香]
[else][tx_img tx1=房间里没有百花香][endif]
[s]

*pourri_use
[cm][if exp="f.g_config.pourri_use=='red'" ][eval exp="f.item.popuri_p-=1" ]
我把红色的百花香放在房间里了。[lr]
房间里弥漫着淡淡的甜香。[p]
[elsif exp="f.g_config.pourri_use=='blue'" ][eval exp="f.item.popuri_b-=1" ]
我把蓝色的百花香放在房间里了。[lr]
清爽的香味在房间里蔓延。[p]
[elsif exp="f.g_config.pourri_use=='non'" ]
我把放在房间里的收拾好了。[lr]
不久香味也会消失吧。[p][endif]
[mood_calc][return_menu]

;;触り設定-----------------------------------------------------------------------------------------------
;触り設定
*touch_config
[cm][hide_role][c_mod n=win st=room/touch_config ][_]
[xy x=940 y=223 x_add=355 preg1='menu/room/touch/'][btn/xy]
[if exp="f.g_config.touch_direct==1" ]
[btn/ l=x tg=*touch_config g=1 gr=touch sw=touch_direct swm=1 exp="f.g_config.touch_direct=0" ][else]
[btn/ l=x tg=*touch_config g=1 gr=touch sw=touch_direct swm=1 exp="f.g_config.touch_direct=1" ][endif]
[if exp="f.g_config.touch_command==1" ]
[btn/ l=x tg=*touch_config g=1 gr=command sw=touch_command swm=1 exp="f.g_config.touch_command=0" ][else]
[btn/ l=x tg=*touch_config g=1 gr=command sw=touch_command swm=1 exp="f.g_config.touch_command=1" ][endif]
[btn/ x=895 y=646 tg=*return_menu g=1 gr=quit exp="f.act.system=1" ]
[s]

*touch_menu
[cm][hide_role][c_mod n=win st=room/touch ][_]
[eval exp="f.act.last_tf='sel_touch'" ]
[xy preg1='menu/room/touch/' tg1='*touch_jump' ]
[xy x=950 y=128 x_add=135 y_add=67 ][btn/xy]
;[btn/ l=x tg=1 g=1 gr=head exp="f.tg[1]='head'" ]
[btn/ l=x tg=1 g=1 gr=eyes exp="f.tg[1]='eyes'" ]
;[btn/ l=x tg=1 g=1 gr=ear exp="f.tg[1]='ear'" ]
[btn/ l=x tg=1 g=1 gr=mouth exp="f.tg[1]='mouth'" ]
[btn/ l=x tg=1 g=1 gr=hair exp="f.tg[1]='hair'" ]
[btn/ l=x tg=1 g=1 gr=hands exp="f.tg[1]='hands'" ]
[add_y]
[btn/ l=x tg=1 g=1 gr=shoulder exp="f.tg[1]='shoulder'" ]
[btn/ l=x tg=1 g=1 gr=stomach exp="f.tg[1]='stomach'" ]
[btn/ l=x tg=1 g=1 gr=scar exp="f.tg[1]='scar'" ]
[btn/ l=x tg=1 g=1 gr=bust exp="f.tg[1]='bust'" cond="f.x_count.sex>=1"]

[btn/ x=895 y=646 tg=*return_menu g=1 gr=remind exp="f.act.system=1,f.act.last_tf=0" ]
;[btn/ l=y tg=*return_menu g=1 gr=quit x=1210 y=392 exp="f.act.system=1,f.act.last_tf=0" ]
[s]

*touch_jump
[cm][jump/ st=talk/touch tg=1 ]

;;音楽回想-----------------------------------------------------------------------------------------------
*music
[sleepgame target="*music_" ][bgm_room re=1][jump/ tg=*return_menu ]

*music_
[cm][hide_role][hide_message_w][eval exp="f.act.system=1" ]
[freechara][c_mod n=win st=room/music reset=1 ][c_show n=win][bg/ g=bg/ st=room][bgm st=SG][eval exp="tf.c_bgm='SG'" ]

*music_menu
[cm][free_tx]
[iscript]
if(f.g_config.room_bgm=='SG'){tf.bgm_name='Silver_Glass';} else if(f.g_config.room_bgm=='IF'){tf.bgm_name='Ivory_Fiber';}
else if(f.g_config.room_bgm=='MT'){tf.bgm_name='Magenta_Touch';} else if(f.g_config.room_bgm=='II'){tf.bgm_name='Indigo_Illumination';}
else if(f.g_config.room_bgm=='AT'){tf.bgm_name='Aquamarine_Temperature';} else if(f.g_config.room_bgm=='BR'){tf.bgm_name='Brilliant_Red';}
else if(f.g_config.room_bgm=='DS'){tf.bgm_name='Deep_Scarlet';} else if(f.g_config.room_bgm=='AS'){tf.bgm_name='Apricot_Smile';}
else if(f.g_config.room_bgm=='OB'){tf.bgm_name='Ochre_Breeze';} else if(f.g_config.room_bgm=='JH'){tf.bgm_name='Jelly_Honey';}
else if(f.g_config.room_bgm=='LS'){tf.bgm_name='Lime_Swing';} else if(f.g_config.room_bgm=='RG'){tf.bgm_name='Rusty_Gainsboro';}
else if(f.g_config.room_bgm=='ST'){tf.bgm_name='Smooth_Turquoise';} else if(f.g_config.room_bgm=='MR'){tf.bgm_name='Misty_Rose';}
else if(f.g_config.room_bgm=='CF'){tf.bgm_name='Cinnamon_Flavor';}
[endscript]
[tx_img x=536 y=755 s=30 n=tf.bgm_name]

[xy x=326 y=210 x_add=494 y_add=59 ][btn/xy]
[xy preg1='config/music/' tg1='*selec_bgm' ]
[btn/ l=y tg=1 g=1 gr=Silver_Glass sw=c_bgm swm=SG exp="tf.c_bgm='SG'"]
[btn/ l=y tg=1 g=1 gr=Ivory_Fiber sw=c_bgm swm=IF exp="tf.c_bgm='IF'"]
[btn/ l=y tg=1 g=1 gr=Jelly_Honey sw=c_bgm swm=JH exp="tf.c_bgm='JH'"]
[btn/ l=y tg=1 g=1 gr=Apricot_Smile sw=c_bgm swm=AS exp="tf.c_bgm='AS'"]
[btn/ l=y tg=1 g=1 gr=Ochre_Breeze sw=c_bgm swm=OB exp="tf.c_bgm='OB'"]
[btn/ l=y tg=1 g=1 gr=Smooth_Turquoise sw=c_bgm swm=ST exp="tf.c_bgm='ST'"]
[btn/ l=y tg=1 g=1 gr=Aquamarine_Temperature sw=c_bgm swm=AT exp="tf.c_bgm='AT'"]
[btn/ l=y tg=1 g=1 gr=Magenta_Touch sw=c_bgm swm=MT exp="tf.c_bgm='MT'"]
[add_x]
[btn/ l=y tg=1 g=1 gr=Rusty_Gainsboro sw=c_bgm swm=RG exp="tf.c_bgm='RG'"]
[btn/ l=y tg=1 g=1 gr=Lime_Swing sw=c_bgm swm=LS exp="tf.c_bgm='LS'"]
[btn/ l=y tg=1 g=1 gr=Brilliant_Red sw=c_bgm swm=BR exp="tf.c_bgm='BR'"]
[btn/ l=y tg=1 g=1 gr=Misty_Rose sw=c_bgm swm=MR exp="tf.c_bgm='MR'"]
[btn/ l=y tg=1 g=1 gr=Cinnamon_Flavor sw=c_bgm swm=CF exp="tf.c_bgm='CF'"]
[btn/ l=y tg=1 g=1 gr=Indigo_Illumination sw=c_bgm swm=II exp="tf.c_bgm='II'"]
[btn/ l=y tg=1 g=1 gr=Deep_Scarlet sw=c_bgm swm=DS exp="tf.c_bgm='DS'"]

[btn/ x=904 y=748 tg=*set_room_bgm g=1 gr=set_room ]
[btn/ x=1211 y=748 tg=*awake g=1 gr=back ]
[s]

*selec_bgm
[cm][eval exp="f.st[1]=tf.c_bgm" ][bgm st=1 ]
[if exp="tf.c_bgm=='SG'" ][bg/ g=bg/ st=room][elsif exp="tf.c_bgm=='IF'" ][bg/ g=bg/ st=door]
[elsif exp="tf.c_bgm=='OB'" ][bg/ st=town][elsif exp="tf.c_bgm=='AS'" ][bg/ st=market]
[elsif exp="tf.c_bgm=='JH'" ][bg/ g=bg/eat st=sweets][elsif exp="tf.c_bgm=='AT'" ][bg/ st=forest]
[elsif exp="tf.c_bgm=='ST'" ][bg/ st=town][elsif exp="tf.c_bgm=='BR'" ][bg/ st=d_shop]
[elsif exp="tf.c_bgm=='LS'" ][bg/ st=cafe][elsif exp="tf.c_bgm=='RG'" ][bg/ st=market]
[elsif exp="tf.c_bgm=='MR'" ][bg/ g=bg/ st=work][elsif exp="tf.c_bgm=='CF'" ][bg/ g=bg/eat st=tea]
[elsif exp="tf.c_bgm=='II'" ][bg/ st=restaurant][elsif exp="tf.c_bgm=='DS'" ][bg/ st=d_shop_n]
[elsif exp="tf.c_bgm=='MT'" ][bg/ g=bg/ st=bed][endif]
[jump/ tg=*music_menu ]

*set_room_bgm
[eval exp="f.g_config.room_bgm=tf.c_bgm" ][jump/ tg=*music_menu ]

;;回想-----------------------------------------------------------------------------------------------------
*memory_top
[eval exp="f.temp.tab=1, f.tab.sub='scene', f.g_state.awake='sleep'" ][save_dress]
[hide_message_w][free_tx][set_win_frame_h][chara_ptext name='=システム='][delay speed=1]
[r]--------------回想模式菜单ー--------------[resetdelay]
[sleepgame target="*memory_top_" ]
[eval exp="f.g_state.awake='awake', f.situ.place='room', f.fol_info.scene='room'" ]
[load_dress][hide_message_w][chara_ptext name='=システム='][delay speed=1]
[r]--------------回想模式结束--------------[resetdelay][cm]
[set_win_frame][show_message_w][jump/ tg=*return_menu ]


*return_to_memory
[stop_se][free_layermode time="0" wait="false" ][ks st=sys/system][black]
*memory_top_
[ks st=sys/system][hide_role][hide_message_w][freechara t=0]
[eval exp="f.act.system=1, tf.hist_mode=0" ][eval exp="f.tab.prev='first'" ][bgm st=MT]
;[eval exp="tf.role_name='awake'" ][btn/ tg=*awake gr=config/memory/back y=710 x=1146]
;[call target="*memory_config_btn" ]
;[eval exp="f.act.system=1, tf.hist_mode=100, f.situ.situ='sex'" ][bgm st=MT]

;回想シーン１----------------------------------------------------------------------------
*memory_menu
[cm][if exp="f.tab.sub=='hint' && f.temp.tab==1" ][bg/ g=sys st=memory_hint1]
[elsif exp="f.tab.sub=='hint' && f.temp.tab==2" ][bg/ g=sys st=memory_hint2]
[else][bg/ g=sys st=memory][endif]

[xy preg1='config/memory/' tg1='*memory_menu' ]
[if exp="f.intro.rape>=1" ][else][xy x=317 y=68 x_add=61][btn/xy]
[btn/ l=x tg=1 g=1 gr=1 sw=temp.tab swm=1 exp="f.temp.tab=1"]
[btn/ l=x tg=1 g=1 gr=2 sw=temp.tab swm=2 exp="f.temp.tab=2"][endif]
[xy x=1267 y=485 y_add=54][btn/xy]
[btn/ l=y tg=1 g=1 gr=tab_scene sw=tab.sub swm=scene exp="f.tab.sub='scene'"]
[btn/ l=y tg=1 g=1 gr=tab_cg sw=tab.sub swm=cg exp="f.tab.sub='cg'"]
[btn/ l=y tg=1 g=1 gr=tab_hint sw=tab.sub swm=hint exp="f.tab.sub='hint'"]
[btn/ y=746 tg=*awake g=1 gr=return]
[s cond="f.tab.sub=='hint'"]

[eval exp="f.tg[3]='memory_menu'+f.temp.tab" ][jump/ tg=3 ]

*memory_menu1
[xy x=339 y=154 x_add=132 tg2='*memory_decide'][btn/xy]
[if exp="f.tab.sub=='scene' && f.intro.rape>=1" ][btn/ l=x g=1 gr=_rape exp="f.st[0]='H/rape',f.tg[0]='*rape_m'" ][s]
[elsif exp="f.tab.sub=='cg' && f.intro.rape>=1" ][btn/ l=x g=1 gr=_rape exp="f.st[0]='H/rape',f.tg[0]='*cg'" ][s][endif]

[if exp="f.x_count.sex>=1" ][btn/ l=x tg=2 g=1 gr=_first exp="tf.sex_situ='xxx',tf.hist_mode=10" ]
;[if exp="f.tab.sub=='scene' && f.x_count.sex>=1" ][btn/ l=x tg=2 g=1 gr=_first exp="tf.sex_situ='xxx',tf.hist_mode=10" ]
;[elsif exp="f.tab.sub=='cg' && f.x_count.sex>=1" ][btn/ l=x tg=2 g=1 gr=_first exp="tf.sex_situ='xxx',tf.hist_mode=10" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]


[eval exp="f.x.bace+=45" ]
[if exp="f.tab.sub=='scene' && f.h_memory.morning>=1" ][btn/ l=x tg=2 g=1 gr=_kitchen1 exp="tf.sex_situ='morning',tf.hist_mode=1" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.morning>=1" ][btn/ l=x tg=2 g=1 gr=_kitchen1 exp="tf.sex_situ='morning',tf.hist_mode=11" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[if exp="f.tab.sub=='scene' && f.h_memory.morning>=2" ][btn/ l=x tg=2 g=1 gr=_kitchen2 exp="tf.sex_situ='morning',tf.hist_mode=2" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.morning>=2" ][btn/ l=x tg=2 g=1 gr=_kitchen2 exp="tf.sex_situ='morning',tf.hist_mode=12" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[if exp="f.tab.sub=='scene' && f.h_memory.morning>=3" ][btn/ l=x tg=2 g=1 gr=_kitchen3 exp="tf.sex_situ='morning',tf.hist_mode=3" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.morning>=3" ][btn/ l=x tg=2 g=1 gr=_kitchen3 exp="tf.sex_situ='morning',tf.hist_mode=13" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]

[eval exp="f.x.bace+=45" ]
[if exp="f.tab.sub=='scene' && f.h_memory.forest>=1" ]
[btn/ l=x tg=2 g=1 gr=_forest_b1 exp="tf.sex_situ='wd_b',tf.hist_mode=1" ]
;[btn/ tg=2 g=1 gr=_forest_a1 exp="tf.sex_situ='wd_f',tf.hist_mode=1" ]
;[btn/ l=x y=308 tg=2 g=1 gr=_forest_b1 exp="tf.sex_situ='wd_b',tf.hist_mode=1" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.forest>=1" ]
[btn/ l=x tg=2 g=1 gr=_forest_b1 exp="tf.sex_situ='wd_b',tf.hist_mode=11" ]
;[btn/ tg=2 g=1 gr=_forest_a1 exp="tf.sex_situ='wd_f',tf.hist_mode=11" ]
;[btn/ l=x y=308 tg=2 g=1 gr=_forest_b1 exp="tf.sex_situ='wd_b',tf.hist_mode=11" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[if exp="f.tab.sub=='scene' && f.h_memory.forest>=2" ]
[btn/ l=x tg=2 g=1 gr=_forest_b2 exp="tf.sex_situ='wd_b',tf.hist_mode=2" ]
;[btn/ tg=2 g=1 gr=_forest_a2 exp="tf.sex_situ='wd_f',tf.hist_mode=2" ]
;[btn/ l=x y=308 tg=2 g=1 gr=_forest_b2 exp="tf.sex_situ='wd_b',tf.hist_mode=2" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.forest>=2" ]
[btn/ l=x tg=2 g=1 gr=_forest_b2 exp="tf.sex_situ='wd_b',tf.hist_mode=12" ]
;[btn/ tg=2 g=1 gr=_forest_a2 exp="tf.sex_situ='wd_f',tf.hist_mode=12" ]
;[btn/ l=x y=308 tg=2 g=1 gr=_forest_b2 exp="tf.sex_situ='wd_b',tf.hist_mode=12" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[if exp="f.tab.sub=='scene' && f.h_memory.forest>=3" ]
[btn/ l=x tg=2 g=1 gr=_forest_b3 exp="tf.sex_situ='wd_b',tf.hist_mode=3" ]
;[btn/ tg=2 g=1 gr=_forest_a3 exp="tf.sex_situ='wd_f',tf.hist_mode=3" ]
;[btn/ l=x y=308 tg=2 g=1 gr=_forest_b3 exp="tf.sex_situ='wd_b',tf.hist_mode=3" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.forest>=3" ]
[btn/ l=x tg=2 g=1 gr=_forest_b3 exp="tf.sex_situ='wd_b',tf.hist_mode=13" ]
;[btn/ tg=2 g=1 gr=_forest_a3 exp="tf.sex_situ='wd_f',tf.hist_mode=13" ]
;[btn/ l=x y=308 tg=2 g=1 gr=_forest_b3 exp="tf.sex_situ='wd_b',tf.hist_mode=13" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]

[wt/][xy x=395 y=486 x_add=132 ]
[if exp="f.tab.sub=='scene' && f.h_memory.mouth>=1" ][btn/ l=x tg=2 g=1 gr=_mouth1 exp="tf.sex_situ='mouth',tf.hist_mode=1" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.mouth>=1" ][btn/ l=x tg=2 g=1 gr=_mouth1 exp="tf.sex_situ='mouth',tf.hist_mode=11" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[if exp="f.tab.sub=='scene' && f.h_memory.mouth>=2" ][btn/ l=x tg=2 g=1 gr=_mouth2 exp="tf.sex_situ='mouth',tf.hist_mode=2" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.mouth>=2" ][btn/ l=x tg=2 g=1 gr=_mouth2 exp="tf.sex_situ='mouth',tf.hist_mode=12" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[if exp="f.tab.sub=='scene' && f.h_memory.mouth>=3" ][btn/ l=x tg=2 g=1 gr=_mouth3 exp="tf.sex_situ='mouth',tf.hist_mode=3" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.mouth>=3" ][btn/ l=x tg=2 g=1 gr=_mouth3 exp="tf.sex_situ='mouth',tf.hist_mode=13" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]

[eval exp="f.x.bace+=45" ]
[if exp="f.h_memory.xxx1>=1" ][btn/ l=x tg=2 g=1 gr=_x exp="tf.sex_situ='xxx',tf.hist_mode=1" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[if exp="f.h_memory.xxx2>=1" ][btn/ l=x tg=2 g=1 gr=_xx exp="tf.sex_situ='xxx',tf.hist_mode=2" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[if exp="f.h_memory.xxx3>=1" ][btn/ l=x tg=2 g=1 gr=_xxx exp="tf.sex_situ='xxx',tf.hist_mode=3" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[clearstack][s]

;回想シーン２----------------------------------------------------------------------------
*memory_menu2
[xy x=339 y=154 x_add=132 ][btn/xy]
[if exp="f.tab.sub=='scene' && f.x_count.self>=1" ][btn/ l=x tg=2 g=1 gr=_self0 exp="tf.sex_situ='self',tf.hist_mode=1" ]
[elsif exp="f.tab.sub=='cg' && f.x_count.self>=1" ][btn/ l=x tg=2 g=1 gr=_self0 exp="tf.sex_situ='self',tf.hist_mode=11" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[if exp="f.tab.sub=='scene' && f.x_count.self>=2" ][btn/ l=x tg=2 g=1 gr=_self1 exp="tf.sex_situ='self',tf.hist_mode=2" ]
[elsif exp="f.tab.sub=='cg' && f.x_count.self>=2" ][btn/ l=x tg=2 g=1 gr=_self1 exp="tf.sex_situ='self',tf.hist_mode=12" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]

[eval exp="f.x.bace+=45" ]
[if exp="f.tab.sub=='scene' && f.h_memory.nurse>=1" ][btn/ l=x tg=2 g=1 gr=_nurse1 exp="tf.sex_situ='nurse',tf.hist_mode=1" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.nurse>=1" ][btn/ l=x tg=2 g=1 gr=_nurse1 exp="tf.sex_situ='nurse',tf.hist_mode=11" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[if exp="f.tab.sub=='scene' && f.h_memory.nurse>=2" ][btn/ l=x tg=2 g=1 gr=_nurse2 exp="tf.sex_situ='nurse',tf.hist_mode=2" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.nurse>=2" ][btn/ l=x tg=2 g=1 gr=_nurse2 exp="tf.sex_situ='nurse',tf.hist_mode=12" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]

[eval exp="f.x.bace+=45" ]
[if exp="f.tab.sub=='scene' && f.h_memory.missional>=1" ][btn/ l=x tg=2 g=1 gr=_missional1 exp="tf.sex_situ='missional',tf.hist_mode=1" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.missional>=1" ][btn/ l=x tg=2 g=1 gr=_missional1 exp="tf.sex_situ='missional',tf.hist_mode=11" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]

[if exp="f.tab.sub=='scene' && f.h_memory.drunk>=1" ][btn/ l=x tg=2 g=1 gr=_drank1 exp="tf.sex_situ='missional',tf.hist_mode=2" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.drunk>=1" ][btn/ l=x tg=2 g=1 gr=_drank1 exp="tf.sex_situ='missional',tf.hist_mode=12" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[if exp="f.tab.sub=='scene' && f.h_memory.drunk>=2" ][btn/ l=x tg=2 g=1 gr=_drank2 exp="tf.sex_situ='missional',tf.hist_mode=3" ]
[elsif exp="f.tab.sub=='cg' && f.h_memory.drunk>=2" ][btn/ l=x tg=2 g=1 gr=_drank2 exp="tf.sex_situ='missional',tf.hist_mode=13" ]
[else][btn/ l=x tg=1 g=1 gr=0 ][endif]
[clearstack][s]

;----------------------------------------------------------------------------
*memory_hint
[clearfix][if exp="f.tab.prev==1" ][bg/ g=how_to st=hint1]
[else][bg/ g=how_to st=hint2][endif]
[p][eval exp="f.tab.prev='first'" ][call target="*memory_config_btn" ]
[eval exp="f.tab.prev=0" ][jump/ tg=*memory_menu ]

;おまけ----------------------------------------------------------------------------
*extra
;[cm][eval exp="f.tab.main='extra'" ]

;[if exp="f.h_memory.xxx1==1" ][button storage="TF/H/video.ks" target="*select_a" graphic="TF/config/memory/_first.png" x="214" y="106" ][endif]
;[call target="*memory_config_btn" ][s]

*memory_decide
[cm]
;[combine_dress_code]
[if exp="tf.sex_situ=='wd_f' ||tf.sex_situ=='wd_b' " ][eval exp="f.st[1]='H/forest'" ]
[else][eval exp="f.st[1]='H/' + tf.sex_situ" ][endif]
[if exp="tf.sex_situ=='xxx'" ][eval exp="f.tg[1]=f.tab.sub" ]
[else][eval exp="f.tg[1]= tf.sex_situ + '_decide'" ][endif][jump/ st=1 tg=1 ]


;;how_to
*how_to_menu_pre
[sleepgame target=*how_to]

*how_to
[cm][key_del][eval exp="tf.tab='bace'" ]
[hide_message_w][free_tx][key_del][clearstack][hide_role][freechara t=0]

*how_to_menu
[cm][clearstack][bg/ g=how_to st=&tf.tab]
[xy x=1 preg4='config/how_to/' tg1='*how_to_menu' ][btn/xy]
[btn/ tg=1 g=4 gr=bace y=62 sw=tf.tab swm=bace exp="tf.tab='bace'"]
[xy y=157 y_add=50 ]
[btn/ l=y tg=1 g=4 gr=command sw=tf.tab swm=command exp="tf.tab='command'"]
[btn/ l=y tg=1 g=4 gr=command_act sw=tf.tab swm=command_act exp="tf.tab='command_act'"]
[btn/ l=y tg=1 g=4 gr=command_sub sw=tf.tab swm=command_sub exp="tf.tab='command_sub'"]
[btn/ l=y tg=1 g=4 gr=status sw=tf.tab swm=status exp="tf.tab='status'"]
[btn/ l=y tg=1 g=4 gr=out_side sw=tf.tab swm=out_side exp="tf.tab='out_side'"]
[btn/ l=y tg=1 g=4 gr=dress_up sw=tf.tab swm=dress_up exp="tf.tab='dress_up'"]
[btn/ l=y tg=1 g=4 gr=communicate sw=tf.tab swm=communicate exp="tf.tab='communicate'"]
[btn/ l=y tg=1 g=4 gr=bed sw=tf.tab swm=bed exp="tf.tab='bed'"]

[xy y=638 ]
[btn/ l=y tg=1 g=4 gr=question sw=tf.tab swm=question exp="tf.tab='question'"]
[btn/ l=y tg=1 g=4 gr=trivia sw=tf.tab swm=trivia exp="tf.tab='trivia'"]

[btn/ y=759 tg=1 g=4 gr=credit sw=tf.tab swm=credit exp="tf.tab='credit'"]
[if exp="tf.title=='title'" ][btn/ y=833 tg=*title g=4 gr=return ][else]
[btn/ y=833 tg=*awake g=4 gr=return ][endif]
[s]


;;更新履歴
*history
[cm][stop_keyconfig][bg/ g=sys st=update_hist ]
[eval exp="f.tab.main='TF'" ]
[if exp="sf.playing=='TeachingFeeling'" ][eval exp="f.tab.sub='40', f.tab.main='TF', tf.r=1, f.tab.page=2" ]
[else][eval exp="f.g_info.fol='ALL/', f.tab.main='TF'" ]
[c_show resize=1 n=pic][c_mod n=win st=UI_ver t=100 ][c_mod n=pic]
[jump/ st=sys/ver_hist tg=*hist_list_pre ][endif]

*hist_list_jump
[cm]
[iscript]
f.preg[1]='ver_list/ver_num/', f.preg[2]='ver_list/pages/'
f.preg[3]='ver_list/pages/' + f.tab.page + '_' + tf.r
f.tg[1]='*hist_list_jump'

if(f.tab.main=='TF' && (f.tab.sub==10 || f.tab.sub==15 || f.tab.sub==18 || f.tab.sub==20 || f.tab.sub==30 || f.tab.sub==40)){;}
else{f.tab.page=1;}
[endscript]

[xy y=14 ][btn/ tg=1 cond="f.tab.page>=2" gr=preg3 x=1473 mo=1 ]
[btn/ tg=1 cond="f.tab.page>tf.r" x=1541 g=2 gr=next exp="tf.r=tf.r+1" ]
[btn/ tg=1 cond="f.tab.page>=2 && tf.r>=2" x=1474 g=2 gr=prev exp="tf.r=tf.r-1" ]
[xy x=20 y=70 y_add=40 sw1='tab.sub' ][btn/xy]

*ver_hist_list
[btn/ l=y mo=2 tg=1 g=1 gr=10 sw=1 swm=10 exp="f.tab.sub=10,f.tab.page=5,tf.r=1"]
[btn/ l=y mo=2 tg=1 g=1 gr=15 sw=1 swm=15 exp="f.tab.sub=15,f.tab.page=4,tf.r=1"]
[btn/ l=y mo=2 tg=1 g=1 gr=18 sw=1 swm=18 exp="f.tab.sub=18,f.tab.page=2,tf.r=1"]
[btn/ l=y mo=2 tg=1 g=1 gr=19 sw=1 swm=19 exp="f.tab.sub=19,f.tab.page=2,tf.r=1"]
[btn/ l=y mo=2 tg=1 g=1 gr=20 sw=1 swm=20 exp="f.tab.sub=20,f.tab.page=3,tf.r=1"]
[btn/ l=y mo=2 tg=1 g=1 gr=21 sw=1 swm=21 exp="f.tab.sub=21"]
[btn/ l=y mo=2 tg=1 g=1 gr=22 sw=1 swm=22 exp="f.tab.sub=22"]
[btn/ l=y mo=2 tg=1 g=1 gr=23 sw=1 swm=23 exp="f.tab.sub=23"]
[btn/ l=y mo=2 tg=1 g=1 gr=24 sw=1 swm=24 exp="f.tab.sub=24"]
[btn/ l=y mo=2 tg=1 g=1 gr=25 sw=1 swm=25 exp="f.tab.sub=25"]
[btn/ l=y mo=2 tg=1 g=1 gr=30 sw=1 swm=30 exp="f.tab.sub=30,f.tab.page=4,tf.r=1"]
[btn/ l=y mo=2 tg=1 g=1 gr=40 sw=1 swm=40 exp="f.tab.sub=40,f.tab.page=2,tf.r=1"]
;[btn/ l=y mo=2 tg=1 g=1 gr=40 sw=1 swm=40 exp="f.tab.sub=40"]
[return cond="sf.playing!='TeachingFeeling'"]
[btn/ tg=*title gr=ver_list/return y=846 ]

[free_tx][xy x=235 y=30 x_add=25 y_add=25 s=22 ][btn/xy]

*ver_hist
[if exp="f.tab.sub=='10'" ][if exp="tf.r==1" ]
	[tx_list ind=-0.3 tx='2015/10/27 -ver1.0.0']
	[tx_list tx='・发布。']
	[add_y]
	[tx_list ind=-0.3 tx='2015/10/28~10/31 -ver1.0.1〜ver1.0.3']
	[tx_list tx='・主要是故障和错字修正。']
	[add_y]
	[tx_list ind=-0.3 tx='2015/11/1 -ver1.1.0']
	[tx_list tx='・故障和错字修复。']
	[tx_list tx='・修复经常强制终止的问题。']
	[tx_list tx='・追加一点点谈话和抚摸反应。']
	[tx_list tx='・添加服装。']
	[tx_list tx='・命令蚀刻的规格部分变更。']
	[tx_list tx='・购物命令的规格一部分变更。']
	[tx_list tx='・整体平衡调整。']
	[add_y]
	[tx_list ind=-0.3 tx='2015/11/2 -ver1.1.1']
	[tx_list tx='・以下问题修正']
	[tx_list ind=1 tx='・通过回顾对一部分的状态有影响。']
	[tx_list ind=1 tx='・早上的活动发生多次。']
	[tx_list ind=1 tx='・重命名时的特殊台词消失了。']
	[tx_list ind=1 tx='・想买一次买的“四角眼镜”店员就消失了。']
	[tx_list ind=1 tx='・在一部分活动中称呼是主人。']
	[tx_list ind=1 tx='・抚摸命令出错。']
	[tx_list ind=1 tx='・淫乱度降低。']
	[add_y]
	[tx_list ind=-0.3 tx='2015/11/3 -ver1.1.2']
	[tx_list tx='・添加一个命令。']
	[tx_list tx='・以下问题修正。']
	[tx_list ind=1 tx='・早上的活动应该不会发生的情况下发生。']
	[tx_list ind=1 tx='・在寄存时的特殊活动中发生循环。']

	[elsif exp="tf.r==2" ]
	[tx_list ind=-0.3 tx='2015/11/4 -ver1.1.3']
	[tx_list tx='・改善窗口大小以允许更改。就像全屏一样。']
	[tx_list tx='・修正了在没有一朵花的状态下选择泡茶的命令后冻结的问题。']
	[add_y]
	[tx_list ind=-0.3 tx='2015/11/4 -ver1.1.4']
	[tx_list tx='・去森林的时候找不到粉色的花的问题修正。']
	[add_y]
	[tx_list ind=-0.3 tx='2015/11/14 -ver1.1.5']
	[tx_list tx='・故障、错字修正。']
	[tx_list tx='・平衡调整和部分规格变更。']
	[tx_list tx='・追加容易寻找花的散步命令。']
	[tx_list tx='・设定淫乱度和亲密度的上限。']
	[tx_list tx='・修正粉色圆形眼镜在床上不显示。']
	[tx_list tx='・护士服也可以外出。']
	[add_y]
	[tx_list ind=-0.3 tx='2015/11/17 -ver1.1.6']
	[tx_list tx='・故障、错字修正。']
	[tx_list tx='・平衡调整和部分规格变更。']
	[tx_list tx='・长时间玩的话不能保存的问题改善。']
	[add_y]
	[tx_list ind=-0.3 tx='2015/12/31 -ver1.1.7']
	[tx_list tx='・更改文件配置。']
	[tx_list tx='・「ver1.2.β版」附录。']

;[elsif exp="f.tab.sub=='12'" ]
	[elsif exp="tf.r==3" ]
	[tx_list ind=-0.3 tx='2016/2/8 -ver1.2.0']
	[tx_list tx='・添加命令（详细情况readme中查看。']
	[tx_list tx='・外出时添加选项。']
	[tx_list tx='・在服装店追加命令。']
	[tx_list tx='・追加服装。']
	[tx_list tx='・扩展抚摸命令。']
	[tx_list tx='・「ver1.3.β版」附录。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/2/8 -ver1.2.1']
	[tx_list tx='・「口で」修改命令已失效。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/2/8 -ver1.2.2']
	[tx_list tx='・修正错字']
	[tx_list tx='・修正日期变更时淫乱度的变动未正常进行。']
	[tx_list tx='・修正了一部分外出时的谈话分歧没有正常进行。']
	[tx_list tx='・修正了抚摸命令时水兵服的长袖短袖是相反的。']
	[tx_blank]
	[tx_list tx='・「ver1.3.β版その２」を同封。']

;[elsif exp="f.tab.sub=='13'" ]
	[elsif exp="tf.r==4" ]
	[tx_list ind=-0.3 tx='2016/3/4']
	[tx_list tx='・「ver1.3.β版その３」を同封。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/3/8 -ver1.3.0']
	[tx_list tx='・Hシーンひとつ追加。']
	[tx_list tx='・衣装追加。']
	[tx_list tx='・着替えコマンドに専用絵を追加。']
	[tx_list tx='・服屋及び喫茶での「店員と話す」コマンドの仕様変更とトーク内容追加。']
	[tx_list tx='・服屋のボタン表示仕様変更。']
	[tx_list tx='・衣装「薄い部屋着」を消去（また次回以降のアプデで追加し直すと思います。']
	[tx_list tx='・「薄い部屋着」消去に伴いキッチンイベントの内容変更。']
	[tx_list tx='・「仕事を手伝ってもらう」を特定の服を着ている時だけ表示するよう変更。']
	[tx_list tx='・外出先やお茶など時間帯によって行動できるコマンドのタイミング調整。']
	[tx_list tx='・セーブ画面のレイアウトを変更。']
	[tx_list ind=1 tx='・（データ引継ぎの場合スロットの数が増えないので少し不格好ですがゲームの起動に問題はないはずです。']
	[tx_list tx='・gifアニメ入りおまけフォルダ追加。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/3/9 -ver1.3.1']
	[tx_list tx='・以下の不具合を修正。']
	[tx_list ind=1 tx='・森の散策でアイテムを探すコマンドが機能しなかった。']
	[tx_list ind=1 tx='・タルトをお土産に買った時正常にイベントが進行しなかった。']
	[tx_list ind=1 tx='・おまけに差分追加。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/4/6 -ver1.3.2']
	[tx_list tx='・以下の不具合を修正']
	[tx_list ind=1 tx='・着替え時服３で服を脱がすと服２に戻る。']
	[tx_list ind=1 tx='・回想2-2の項目がまだ発生してない状態でも、CGに切り替えると回想が解放されてしまう。']
	[tx_list ind=1 tx='・一部イベントで靴下の表示が正しくない。']

;[elsif exp="f.tab.sub=='14'" ]
	[elsif exp="tf.r==5" ]
	[tx_list ind=-0.3 tx='2016/4/11 -ver1.4.0']
	[tx_list tx='・テキストオート進行ボタン追加。]
	[tx_list tx='・画面切り替わり時、服を着ていないシルヴィが映りにくくなるよう演出を変更。']
	[tx_list tx='・着替え時すべての服をクリアするボタン追加。']
	[tx_list tx='・コンフィグでテキストオート速度、BGMボリューム、SEボリュームを変更できるように。']
	[tx_list tx='・音楽鑑賞モード追加。']
	[tx_list tx='・スキップ中の画面切り替わり時に背景が真っ黒になることがある不具合修正。']
	[tx_list tx='・仕様変更多数']
	[add_y]
	[tx_list ind=-0.3 tx='2016/4/23 -ver1.4.1']
	[tx_list tx='・「ver1.5.β-a」を同封。']
	[tx_list tx='・以下の不具合を修正。']
	[tx_list tx='・CGモードで表示の抜けやクリック待ちが正常に行わせない箇所が複数あった。']
	[tx_list tx='・お茶の時間にピンクの花を所持していないと青い花の選択肢が出てこない。']
	[tx_list tx='・エプロンを初回購入時に、青いエプロンも購入したことになる。']
	[tx_list tx='・森のイベントでつけているリボンの色が間違って表示される。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/4/24 -ver1.4.2']
	[tx_list tx='・名称変更の際正常にトークイベントが発生していなかった不具合修正。']
	[endif]

[elsif exp="f.tab.sub=='15'" ][if exp="tf.r==1" ]
	[tx_list ind=-0.3 tx='2016/5/27']
	[tx_list tx='・「ver1.5.β-b」を同封。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/6/8 -ver1.5.0']
	[tx_list tx='・フラグ関連の不具合多数修正。']
	[tx_list tx='・システム面の整理、フラグ管理の微調整、色々と仕様変更。']
	[tx_list tx='・時間経過の表示を変更。']
	[tx_list tx='・夜の外出を実装。']
	[tx_list tx='・衣装追加。']
	[tx_list tx='・コミュニケーションコマンド実装。']
	[tx_list tx='・一人で喫茶店に行った時のお土産追加。']
	[tx_list tx='・一部背景や立ち絵の加筆及び修正。']
	[tx_list tx='・エッチシーン１種追加。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/7/14 -ver1.5.1']
	[tx_list tx='・誤字脱字修正。']
	[tx_list tx='・エッチシーン以外のシルヴィのイラストをほぼ全て修正。']
	[tx_list tx='・「ver1.6.β-a」を同封。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/7/17 -ver1.5.2']
	[tx_list tx='・序盤の体をさわるコマンドでシルヴィが正常に表示されない不具合を修正。']
	[tx_list tx='・「ver1.6.β-b」を同封。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/7/18 -ver1.5.3']
	[tx_list tx='・仕事イベントでシルヴィの髪が正常に表示されない不具合修正。']
	[tx_list tx='・「ver1.6.β-c」を同封。']

;[elsif exp="f.tab.sub=='16'" ]
	[elsif exp="tf.r==2" ]
	[tx_list ind=-0.3 tx='2016/8/2']
	[tx_list tx='・「ver1.6.β-d」を同封。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/8/5 -ver1.6.0']
	[tx_list tx='・外出時に広場にとどまる選択肢を追加。']
	[tx_list tx='・市場探索中に市場を離れる選択肢を追加。']
	[tx_list tx='・外出イベント追加。']
	[tx_list tx='・特定条件を満たした上で夜に選択可能なコマンド追加。']
	[tx_list tx='・着せ替えセーブボタンを追加。']
	[tx_list tx='・コミュニケート対応ワードを少しだけ追加。']
	[tx_list tx='・オリジナル衣装ボタンの追加。']
	[tx_list tx='・誤字脱字修正。']
	[tx_list tx='・新しい髪型追加。']
	[tx_list tx='・仕事イベントでも一部を除き髪型が反映されるように。']
	[tx_list tx='・外出、撫で、仕事時などのボタン表示のデザインを変更。']
	[tx_list tx='・その他もろもろ色々変更。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/8/7 -ver1.6.1']
	[tx_list tx='・ナースえっちイベントが発生しない不具合修正。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/8/8 -ver1.6.2']
	[tx_list tx='・以下不具合修正']
	[tx_list ind=1 tx='・服屋で会話のボタンが表示されなくなった。']
	[tx_list ind=1 tx='・一部のイベントで回想シーンが解放されなくなった。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/9/8 -ver1.6.3']
	[tx_list tx='・森の散策中にエラーが出る不具合修正。']
	[tx_list tx='・誤字修正。']
	[tx_list tx='・「ver1.7.β-a」を同封。']

;[elsif exp="f.tab.sub=='17'" ]
	[elsif exp="tf.r==3" ]
	[tx_list ind=-0.3 tx='2016/9/30']
	[tx_list tx='・「ver1.7.β-b」を同封。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/10/27 -ver1.7.0']
	[tx_list tx='・衣装関連のボタン表示を改善。']
	[tx_list tx='・ブレザー、セーラー、シャツの半分だけ着せられる衣装追加。']
	[tx_list tx='・衣装素材及び表情の微調整。']
	[tx_list tx='・衣装４種アクセサリ−４種追加。']
	[tx_list tx='・衣装「腕」のカテゴリ追加。']
	[tx_list tx='・着せ替え時にトーク発生の要素追加。']
	[tx_list tx='・導入可能なオリジナル衣装パーツの追加。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/10/28 -ver1.7.1']
	[tx_list tx='・以下の不具合修正。']
	[tx_list ind=1 tx='・夜の店のボタンが表示されない。']
	[tx_list ind=1 tx='・昼の外出時「タイトドレスの一部」で外出できてしまう。']
	[tx_list ind=1 tx='・着せ替えの「オリジナル」タブがコマンド入力していなくても表示されてしまう。']
	[tx_list ind=1 tx='・起動アプリケーションの更新。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/10/29 -ver1.7.2']
	[tx_list tx='・花型のヘアピンが仕事時正常に表示されなかった不具合修正。']
	[tx_list tx='・名前欄にキャラの名前を表示するタイミングでゲームが進行しなくなる不具合修正。']
	[tx_list tx='（起動アプリケーションの更新が原因だったようなのですが解決法がわからなかったのでverを戻しました。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/12/15 -ver1.7.3']
	[tx_list tx='・コマンドHシーンの絵を一部修正。']
	[tx_list tx='・ベータ版ver1.8.βを更新。']
	[tx_list tx='・以下の不具合修正。']
	[tx_list ind=1 tx='・ツインテールの髪型が食事中正常に表示されてなかった。']
	[tx_list ind=1 tx='・一人で喫茶店に入った時の店員と話すボタンが正常に表示されない。']
	[tx_list ind=1 tx='・シルヴィの服に関してのコメントで一部表情が正常に変わらない。']
	[tx_list ind=1 tx='・過去のバージョンからデータを引き継ぐ際、一部の過去バージョンだとシルヴィが正常に表示されない。']
	[tx_list ind=1 tx='・衣装変更シーンの「全て外す」で腕パーツが外れなかった。']

	[elsif exp="tf.r==4" ]
	[tx_list ind=-0.3 tx='2016/12/17 -ver1.7.4']
	[tx_list tx='・初回服屋イベント時に店員の立ち絵が表示されなくなった不具合修正。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/12/17 -ver1.7.5']
	[tx_list tx='・初めのオープニングイベントの直後一瞬表示される素材がおかしくなるのを修正。']
	[tx_list tx='・仕事お手伝いから専用Hシーン以降選択肢の後部屋の音楽が鳴らないのを修正。']
	[tx_list tx='・ベータ版ver1.8.βを更新。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/12/18 -ver1.7.6']
	[tx_list tx='・ver1.7.4の修正が完全でなかったので追加の修正。']
	[tx_list tx='・おまけの画像ファイルを追加。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/12/21 -ver1.7.7']
	[tx_list tx='・Mac版の起動ファイルが古いものになっていたのを修正。']
	[tx_list tx='・ベータ版ver1.8.βを更新。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/12/22 -ver1.7.8']
	[tx_list tx='・着替え後のセリフが正常に表示されなかった不具合修正。']
	[tx_list tx='・ベータ版ver1.8.βを更新。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/12/28']
	[tx_list tx='・ベータ版ver1.8.βを更新。']
	[add_y]
	[tx_list ind=-0.3 tx='2016/12/29 -ver1.7.9']
	[tx_list tx='・ベータ版ver1.8.β-eの更新時にコマンドHシーンのコマンド用ウィンドゥの']
	[tx_list ind=1 tx='素材が違うものになってしまったのを修正。']
	[endif]

[elsif exp="f.tab.sub=='18'" ][if exp="tf.r==1" ]
	[tx_list ind=-0.3 tx='2017/1/3 -ver1.8.0']
	[tx_list tx='・室内選択画面で触り反応追加。']
	[tx_list tx='・感度の段階を追加。']
	[tx_list tx='・プラトニックなステータスの時にエロステータスを表示されないように仕様変更。']
	[tx_list tx='・エッチシーンのCG回想の仕様変更。（画面右側クリックで進行、画面左側クリックで１枚戻るように']
	[tx_list tx='・おまけアニメーションをgif同封でなく回想シーンに移植。（回想におまけタブ追加']
	[tx_list tx='・好感度の上昇や店での商品解放条件を調整。']
	[tx_list tx='・分岐条件の微調整。']
	[tx_list tx='・既存の衣装のカラーバリエーション追加。']
	[tx_list tx='・コマンドHシーンを大きく改良&変更。']
	[tx_list tx='・絵を大きく修正。一部の髪型が反映するように。']
	[tx_list tx='・「手を繋ぐ」「脚を持つ」の行動追加。']
	[tx_list tx='・体位を１種類追加。']
	[tx_list tx='・ボタンによるコマンド行動を廃止、シルヴィを直接クリックする仕様に。']
	[tx_list tx='・行動ボタンの代わりに以下の切り替えボタンを新たに配置。']
	[tx_list tx='・断面図及び漫画表現のオンオフ。']
	[tx_list tx='・テキストウィンドウの透過度。']
	[tx_list tx='・シルヴィクリックによる行動。']
	[tx_list tx='・射精箇所の選択。']
	[tx_list tx='・射精のタイミングがたまにおかしくなる不具合修正。']
	[tx_list tx='・パラメーター変動を調整。']
	[tx_list tx='・シーン導入前に髪をおろす、体位、薬の使用の選択画面を挿入。']
	[tx_list tx='・「Hint.txt」の加筆。']
	[add_y]
	[tx_list ind=-0.3 tx='2017/1/6 -ver1.8.1']
	[tx_list tx='・以下不具合を修正。']
	[tx_list ind=1 tx='・感度の表示が正常に計算されなかった。']
	[tx_list ind=1 tx='・CG回想モードで診療所２の8枚目以降前のページに移動できなくなる。']
	[elsif exp="tf.r==2" ]
	[tx_list ind=-0.3 tx='2017/2/3 -ver1.8.2']
	[tx_list tx='・誤字脱字修正。']
	[tx_list tx='・以下不具合を修正。']
	[tx_list ind=1 tx='・CGモードで朝セックスの条件が裸エプロンでなく「薄着で朝を迎える」となっていた。']
	[tx_list ind=1 tx='・コマンドHシーンの背面座位からやめるボタン以外でシーンの終了時主人公の腕が表示されなくなる。']
	[tx_list ind=1 tx='・一度初夜イベントを断った後でイベントを通過すると回想が解放されない。']
	[tx_list ind=1 tx='・コマンドHシーンの背面座位で絆創膏が表示されなかった。']
	[tx_list ind=1 tx='・靴下を着用中に背面座位から正常位に体位を変更すると靴下のグラフィックがのこったままになる。']
	[add_y]
	[tx_list ind=-0.3 tx='2017/2/7 -ver1.8.3']
	[tx_list tx='・誤字脱字修正。']
	[tx_list tx='・以下不具合を修正。']
	[tx_list ind=1 tx='・着せ替えシーンで衣装記録ができないタイミングで衣装記録用のウィンドゥが表示される。']
	[tx_list ind=1 tx='・森のHシーンで特定状況下で画面切り替えが正常に行われない。']
	[endif]
[elsif exp="f.tab.sub=='19'" ][if exp="tf.r==1" ]
;	[elsif exp="tf.r==3" ]
	[tx_list ind=-0.3 tx='2017/3/27 -ver1.9.0']
	[tx_list tx='・滑らかに画面が切り替わるよう改良。']
	[tx_list tx='・ゲームタイトル画面にアップデート履歴と説明書を追加。']
	[tx_list tx='・室内コマンドUI改良。']
	[tx_list tx='・H系コマンドの選択可能時間を夜の２コマに変更。']
	[tx_list tx='・ナース服を着ていない時も仕事を手伝うコマンドを表示する仕様に変更。']
	[tx_list tx='・コミュニケート機能のランダムボタンをコミュニケート選択ボタンに変更。']
	[tx_list tx='・着せ替え画面のセット保存機能の改善。スロットの追加とセットに名前をつけられるように。']
	[tx_list tx='・１日が終わる時その日の行動によって内容が変動するようにシルヴィのトークを追加。']
	[tx_list tx='・シルヴィステータスでおねだり系イベントに関するステータスを追加。']
	[tx_list tx='・室内シーンでシルヴィに触れられる箇所追加（目、髪。']
	[tx_list tx='・一部のコミュニケート後にさらに返答の入力でチェイントークが発生するように機能拡張。']
	[tx_list ind=1 tx='対応ワードは今後も増やしていく予定。']
	[tx_list ind=1 tx='・（返答の候補は選択式コミュニケート画面でも表示されます。']
	[tx_list ind=1 tx='・（チェイントークが用意されているトークは色が微妙に違います。']
	[tx_list tx='・コマンドHシーンで幾つかの衣装の着衣H対応。']
	[tx_list ind=1 tx='・（落ち着いた服、セーラー、ブレザー、タイとスカート、カジュアル、+以上の衣装の半脱ぎ。']
	[tx_list tx='・オーレリアの衣装追加。']
	[tx_list tx='・誤字脱字修正。']
	[tx_list tx='・以下の不具合修正。']
	[tx_list ind=1 tx='・Hシーン「お口で」の一部、シルヴィのセリフに名前が表示されていなかった。']
	[tx_list ind=1 tx='・Hシーン「待ちきれなくて」の見せつけシーンでピアスと絆創膏が表示されなかった。']
	[tx_list ind=1 tx='・呼び名変更の際マゾ呼び系を断られてもそのまま呼ばれてしまう。']
	[add_y]
	[tx_list ind=-0.3 tx='2017/3/28 -ver1.9.1']
	[tx_list tx='・以下不具合を修正。']
	[tx_list ind=1 tx='・コマンドHシーン正常位でシルヴィの涙が表示されない。']
	[tx_list ind=1 tx='・着替え画面でツインテール、サイドテールに変更するとゲームが進行しなくなる。']
	[tx_list ind=1 tx='・オリジナル衣装の帽子が表示されない。']
	[tx_list ind=1 tx='・着替えの記録ボタンを押すと「やめる」ボタンがだぶる。']
	[tx_list ind=1 tx='・裸エプロンイベントで声をかけた時シルヴィのエプロンが外れる。']
	[tx_list ind=1 tx='・回想CG「待ちきれなくて」の一部で画面左をクリックして前の絵に戻ることができない。']
	[tx_list ind=1 tx='・おねだりシーンでエプロンドレスのオレンジが表示されない。']
	[elsif exp="tf.r==2" ]
	[tx_list ind=-0.3 tx='2017/3/28 -ver1.9.2']
	[tx_list tx='・以下不具合を修正。']
	[tx_list ind=1 tx='・コマンドHシーンでシルヴィの涙がステータスに応じたものにならない。']
	[tx_list ind=1 tx='・コマンドHシーンで服を脱がさなくても「脱がした」と言うテキストになる。']
	[tx_list ind=1 tx='・食事画面でツインテール青/黒が正常に表示されない。']
	[tx_list ind=1 tx='・「説明書」の【アップデート直後のロードについて】が正常に表示されない。']
	[tx_list ind=1 tx='・食事画面のベルトパンク衣装の紫と緑が逆に表示される。']
	[endif]
	
[elsif exp="f.tab.sub=='20'" ]
	[if exp="tf.r==1" ]
	[tx_list ind=-0.3 tx='2017/10/19 -ver2.0.0']	
	[tx_list tx='大幅な仕様変更を含む大型アップデートです。セーブデータの互換性がなくなります。']
	[tx_list tx='ティラノスクリプト本体のアップデート。']
	[tx_blank]
	[tx_list tx='[新機能、追加要素]']
	[tx_list tx='・立ち絵及び衣装画像を全て書き直し。']
	[tx_list ind=1 tx='-立ち絵に瞬きと口パクアニメーション実装。']
	[tx_list ind=1 tx='-前髪の止め方バリエーションを２種追加']
	[tx_list ind=1 tx='-特定の服としか組み合わせられなかったエプロンを全衣装と組み合わせ可能に。']
	[tx_list ind=1 tx='-コマンドHシーンで反映可能な衣装を追加、髪型は全て反映可能に。']
	[tx_list ind=1 tx='-イベントHシーン以外のすべての絵に髪型が反映されるように。']
	[tx_list ind=1 tx='-和服、ブレザー、メガネ、ヘアピン、リボン、靴下、マフラーの色違いを追加。']
	[tx_list ind=1 tx='-リボン付きの服の半脱ぎ、ヘアゴム（シュシュ、ビーズ）を追加。']
	[tx_blank]
	[tx_list tx='・シルヴィからの呼び名を通常時とHシーン時で別の呼び方を要求できる機能追加。']
	[tx_list tx='・シルヴィにHシーン中の特殊ワードを要求できる機能追加。']
	[tx_list tx='・新機能や新要素に合わせたテキストの修正と追加。']
	[tx_list tx='・服購入時にシルヴィのコメントをスキップする設定を追加。']
	[tx_list tx='・着せ替えセット数を３６に増加。ボタン色を変更できるように。']
	[tx_list tx='・通常時、Hシーン時のテキストウィンドウを変更できる設定を実装。']
	[tx_list tx='・シナリオ序盤のイベント及びコマンドを追加。']
	[tx_list tx='・Hシーン中に表示設定を変えられるシステムボタンを右下に配置。']
	[tx_list tx='・以下ショートカット対応。']
	[tx_list ind=1 tx='進行(スペース)、ウィンドウを隠す(エンター/右クリック)、']
	[tx_list ind=1 tx='スキップ(control)、ロード(L)、ログ(マウスホイール上)']
	[tx_blank]
	[tx_list tx='[デザインや機能の変更点]']
	[tx_list tx='・コンフィグ（設定）専用画面の追加。']
	[tx_list tx='・セーブボタンを右下のシステムボタンから室内メニューウィンドウへ移動。']
	[tx_list tx='・室内の選択肢窓を時間経過があるものとないもので分割。']
	[tx_list tx='・室内シーン右上に画面の再読み込みボタン配置（アップデート後用']
	[tx_list tx='・「生活記録」にまとめてあった所持品の確認を個別ボタンに分割。']
	[tx_list tx='・室内の選択画面から「回想/設定」のボタンを消去。右下のシステムボタンに格納していつでも開けるように。']
	[tx_list tx='・室内の選択画面から「音楽」のボタンを消去。回想モードのタブに収納。']
	[tx_list tx='・室内の選択画面から「呼び名変更」のボタンを消去。コミュニケート選択から変更可能。']
	[elsif exp="tf.r==2" ]
	[tx_list tx='・着せ替えの髪型とリボンを別のボタンに分割。']
	[tx_list tx='・コマンドHシーンのメニュー表示デザインを変更。']
	[tx_list tx='・システム関連のテキストがログに残らないよう改良。']
	[tx_list tx='・服屋で購入できる服の初期数を増加。']
	[tx_list tx='・服の色をどの色からでも購入できるように改善。']
	[tx_list tx='・外出時時間体に合わせて画面の明るさが微妙に変わるように。']
	[tx_list tx='・高淫乱度限定のトーク発生率を調整。']
	[tx_list tx='・イベント発生の条件調整。']
	[tx_list tx='・イベントシーンのシルヴィの髪、及び衣装やアクセの色を微調整。']
	[tx_list tx='・ナース服を着ていないでお仕事を始める場合仕事着が白固定だったのをランダムに。']
	[tx_list tx='・着替え中の靴下と下着の表示をわかりやすく改善。']
	[tx_list tx='・ゲーム内説明書とアップデート履歴を改善。説明書はゲーム中ほぼいつでもみれるように。']
	[tx_list ind=1 tx='代わりにReadme内の操作説明部分を消去。']
	[tx_blank]
	[tx_list tx='以下の不具合修正']
	[tx_list ind=1 tx='・レイプ行動連続するとイベントが進行しなくなる。']
	[tx_list ind=1 tx='・プラトニックな関係でも淫乱度を上げられてしまう。']
	[add_y]
	[tx_list ind=-0.3 tx='2017/7/22']
	[tx_list tx='「ver2.0.β-a」を同封。']
	[add_y]
	[tx_list ind=-0.3 tx='2017/9/10(DLsite版のみ) ']
	[tx_list tx='「ver2.0.β-b」を同封。']
	[add_y]
	[tx_list ind=-0.3 tx='2017/10/9']
	[tx_list tx='「ver2.0.β-c」を同封。']
	[add_y]
	[tx_list ind=-0.3 tx='2017/10/25 -ver2.0.1']
	[tx_list tx='・ver2.0.0以降用のオリジナル衣装機能説明書を同封。']
	[tx_list tx='・以下の不具合を修正。']
	[tx_list ind=1 tx='・オリジナルイベントのテンプレートファイルが入っていなかった。']
	[tx_list ind=1 tx='・回想で自慰目撃の途中で回想に戻らずフリーズする。']
	[tx_list ind=1 tx='・回想のおまけ項目の後ゲームに戻っても音楽が回想のままになる。']
	[elsif exp="tf.r==3" ]
	[tx_list ind=-0.3 tx='2017/10/28 -ver2.0.2']
	[tx_list tx='・以下の不具合を修正']
	[tx_list ind=1 tx='・オリジナルイベント及びオリジナル衣装用のコマンドが正常に機能していなかった。']
	[tx_list ind=1 tx='・夜にコミュニケートワード選択から外出を選択するとテキスト表示位置がおかしくなる。']
	[add_y]
	[tx_list ind=-0.3 tx='2017/12/19']
	[tx_list tx='「ver2.1.β」を同封。']
	[endif]
[elsif exp="f.tab.sub=='21'" ]
	[tx_list ind=-0.3 tx='2017/12/27 -ver2.1.0']
	[tx_list tx='・「淫語を教える/呼び名変更/ウィンドウ設定」を「特殊設定」ボタンにまとめて室内画面に配置。']
	[tx_list tx='・キーショートカットのオンオフ設定を特殊設定内に追加。']
	[tx_list tx='・ステータス「ムード」の追加、それに伴ったバランス調整と仕様変更。']
	[tx_list tx='・説明書にステータスに関するタブを追加。回想の解放条件タブのデザインも変更。']
	[tx_list tx='・イベント系選択肢のデザインを一部微妙に変更。']
	[tx_list tx='・飲酒モード中に専用の時間経過表示&触りコミュ実装。']
	[tx_list tx='・森の休憩イベントをランダム発生でなく選択肢に変更。']
	[tx_list tx='・服が反映される回想モード移行時に衣装を選べる機能追加。']
	[tx_list tx='・Hイベント「キッチンで」の絵を書き直し。薄い部屋着と髪型の反映に対応。']
	[tx_list tx='・Hイベント「お外で」の絵を書き直し。髪型の反映に対応＆時間帯によって光源の色が変わるように。']
	[tx_list tx='・服購入時のリアクションスキップ設定をゲーム全体でなくセーブデータごとに記録されるように仕様変更。']
	[tx_blank]
	[tx_list tx='・以下の不具合を修正']
	[tx_list ind=1 tx='・「キッチンで」のCG回想でエプロンやアクセサリーが反映されない。']
	[tx_list ind=1 tx='・薄い服を着せているときにコマンドHシーン前の設定で着脱の選択ができてしまう。']
	[tx_list ind=1 tx='・オリジナル衣装がコマンドHシーンに反映されない。']
	[tx_list ind=1 tx='・ゲーム開始時一部の初期設定が正常に設定されていなかった。']
	[add_y]
	[tx_list ind=-0.3 tx='2017/12/28 -ver2.1.1']
	[tx_list tx='コマンドHシーン正常位で背景が正常に表示されない不具合修正。']
[elsif exp="f.tab.sub=='22'" ]
	[tx_list ind=-0.3 tx='2018/2/26 -ver2.2.0']
	[tx_list tx='・Hシーン「お外で」の体位を１つ追加。']
	[tx_list tx='・コマンドHシーンにボロ、ワンピース、和服、タイトなドレス、薄いワンピース、の着衣を対応。']
	[tx_list tx='・Hシーン「キッチンで」に薄いワンピース対応。']
	[tx_list tx='・女サブキャラクターの立ち絵を書き直したものに変更。']
	[tx_list tx='・外出先の選択肢ボタン位置、及び外出前の会話イベントタイミングを変更。']
	[tx_list tx='・調合コマンド、お茶に何か入れるか、「お外で」Hシーン移行の選択肢ボタンをコマンドウィンドウに収納。']
	[tx_list tx='・Hシーンへ移行する選択肢のデザインを変更。']
	[tx_blank]
	[tx_list tx='・以下の不具合を修正']
	[tx_list ind=1 tx='・回想CGを見た後回想モードが解除されず、ｹﾞｰﾑﾓｰﾄﾞでのHｼｰﾝに移行した際のｼｽﾃﾑﾎﾞﾀﾝが回想時の物になる。']
	[tx_list ind=1 tx='・お預けｲﾍﾞﾝﾄ2回目時の下着の中見せつけｼｰﾝで小さなﾚｰｽﾌﾞﾗ、水玉ブラ、ﾛﾝｸﾞｽｶｰﾄ青と黒が正常に表示されない。']
	[tx_list ind=1 tx='・Hｼｰﾝ「ｷｯﾁﾝで」のCG回想で服を脱がせたあと再度着衣のCGまで戻した際ﾋﾟｱｽ系統の表示が戻らない。']
	[add_y]
	[tx_list ind=-0.3 tx='2018/3/7 -ver2.2.1']
	[tx_list tx='・着せ替えの記録機能のデザインを変更。']
	[tx_list tx='・一部のステータス変動数値を微妙に変更。']
	[tx_blank]
	[tx_list tx='・以下の不具合を修正']
	[tx_list ind=1 tx='・回想画面で「無理やり」及びおまけタブ内の回想ボタンが正常に表示されない。']
	[tx_list ind=1 tx='・「お外でa」で一部の髪型でピンク、黒のリボン系列が表示されない。']
	[tx_list ind=1 tx='・「待ちきれなくて」前のおねだりシーンにて一部の衣装の上のみを着せた時に']
	[tx_list ind=2 tx='着せてないはずのスカートが表示される。']
	[tx_list ind=1 tx='・同じくおねだりシーンにて和服、ﾌﾞﾚｻﾞｰ、ﾀｲﾄﾄﾞﾚｽを着せている時に画面左上に画像アイコンが表示される。']
	[tx_list ind=1 tx='・１日の始まり時に設定される「ムード」ステータスの計算に前日のH行動が正常に反映されていなかった。']
	[tx_list ind=1 tx='・回想CGモード「お口で」の１と３で口の中に出した時にメガネが表示されなくなる絵がある。']
	[add_y]
	[tx_list ind=-0.3 tx='2018/7/11']
	[tx_list tx='「ver2.3.β-b」を同封。']
	[add_y]
	[tx_list ind=-0.3 tx='2018/7/16']
	[tx_list tx='「ver2.3.β-a」を同封。']

[elsif exp="f.tab.sub=='23'" ]
	[tx_list ind=-0.3 tx='2018/7/22 -ver2.3.0']
	[tx_list tx='・ティラノスクリプトの更新、それに伴いキャラクター表示のシステムを大幅に変更。']
	[tx_blank]
	[tx_list tx='[システム面での新機能/仕様変更]']
	[tx_list ind=1 tx='・選択した行動を繰り返すリピート機能追加。時間表記の隣にボタンを追加。']
	[tx_list ind=1 tx='・着せ替え保存のスロットを個別にリセットできる機能を追加。']
	[tx_list ind=1 tx='・服屋で服のまとめ買い（仲が良くなった状態でのみ色違いの服を一括購入）機能追加。']
	[tx_list ind=1 tx='・コマンドHシーン移行前の設定画面でHシーンの間だけ反映されるコーディネート変更機能追加。']
	[tx_list ind=1 tx='・コマンドHシーン中に絶頂までの時間を可視化するメーターを追加。']
	[tx_list ind=1 tx='・「お口で」と「自分でさせる」の後のベッドシーンでも薬の使用や衣装変更を可能に。']
	[tx_list ind=1 tx='・最新verに更新してデータをロードした際に画面を自動でリロードする機能追加。']
	[tx_list ind=1 tx='・今まで画面右上に配置していたリロードボタンを画面左下に移動。']
	[tx_list ind=1 tx='・新機能に合わせた全体的なUIの変更と改善及び説明書の追記。']
	[tx_blank]
	[tx_list tx='[追加要素]']
	[tx_list ind=1 tx='・コマンドHに反映可能衣装追加。現状ある全ての衣装を反映可能に。']
	[tx_list ind=1 tx='・「初夜」「久しぶりの」「我慢の限界」「待ちきれなくて」の絵を手直し。全て髪型が反映できるように。']
	[tx_list ind=1 tx='・外食時の演出の変更。食事の立ち絵に食べている最中の差分を追加。']
	[tx_list ind=1 tx='・夜の店に「水兵服の襟」を追加。']
	[tx_list ind=1 tx='・♡♧☆のヘアピンを服屋に追加。']
	[tx_blank]
	[tx_list tx='・不具合修正']
	[tx_list ind=1 tx='・朝のイベントHシーン後に発情ステータスが解消されない。']
	[tx_blank]
	[tx_list tx='※ver2.0.β-aで始めたデータを引き継いだ場合「コマンドHへ移行時＆着せ替えで衣装セットに']
	[tx_list ind=1 tx='コーディネート登録時にフリーズする」不具合が発生します。']
	[tx_list tx='該当する場合はコミュニケートに「デバックv200b」と入力するか、衣装セットを全リセットしてください。']
	[add_y]
	[tx_list ind=-0.3 tx='2018/7/25 -ver2.3.1']
	[tx_list tx='・Hシーン回想の『お外でa』が正常に閲覧できない不具合を修正。']
	[add_y]
	[tx_list ind=-0.3 tx='2018/10/26']
	[tx_list tx='「ver2.4.β」を同封。']
[elsif exp="f.tab.sub=='24'" ]
	[tx_list ind=-0.3 tx='2018/11/16 -ver2.4.0']
	[tx_list tx='・ティラノスクリプトの更新。64bit版に変更しました。']
	[tx_list ind=1 tx='32bit版も同封しているのでこっちで起動する必要がある人はreadmeを参照してください。']
	[tx_blank]
	[tx_list tx='・追加要素']
	[tx_list ind=1 tx='・Hシーン１種追加。']
	[tx_list ind=1 tx=' ・「お茶をする」コマンドの演出の変更。食事の絵に食べている最中の差分と専用BGMを追加。 ']
	[tx_list ind=1 tx='・自慰系イベントに髪型が反映できるようにイラストの書き直し。']
	[tx_list ind=1 tx='・室内のコマンド選択画面のBGMを変更できる設定を特殊設定内に追加。']
	[tx_list ind=1 tx='・回想画面にBGMとSEのボリューム設定ボタンを追加。']
	[tx_list ind=1 tx='・お仕事中に専用BGMを追加。']
	[tx_list ind=1 tx='・タイトル画面にコンフィグボタンを追加。']
	[tx_blank]
	[tx_list tx='・仕様変更']
	[tx_list ind=1 tx='・H直後はムード選択が冷静になる&朝のエッチイベントを発生しないように変更、連続した発情発生を軽減。']
	[tx_list ind=1 tx='・お外でHシーン発生が午前だった場合日をまたがず午後の時間に移行するように。']
	[tx_list ind=1 tx='・「シルヴィの買い物時リアクションの有無」と「イベントHシーンの射精場所」の設定を']
	[tx_list ind=2 tx='セーブデータごとでなくゲーム全体に反映されるように仕様変更。']
	[tx_list ind=1 tx='・お仕事Hシーンの発生条件を一部変更。']
	[tx_list ind=1 tx='・タイトル画面から更新履歴ボタンを消去。']
	[tx_list ind=2 tx='代わりに更新履歴を操作説明書メニューの中にまとめ、双方を行き来できるボタンを追加。']
	[tx_blank]
	[tx_list tx='・以下の不具合修正。']
	[tx_list ind=1 tx='・ナース服以外の服を着ている際の「お仕事」でのおねだり発生時にナース服の色が変わる。']
	[tx_list ind=1 tx=' ・「口でしてもらう」「自分でさせる」シーン後に「もう休む」を選んだ後の ']
	[tx_list ind=2 tx=' おねだりのシーンで髪型や服装が前後の状況と矛盾する。 ']
	[tx_list ind=1 tx='・SEのループが不自然だったので新しい音に差し替え。']
	[add_y]
	[tx_list ind=-0.3 tx='2019/2/01']
	[tx_list tx='「ver2.5.β」を同封。']
[elsif exp="f.tab.sub=='25'" ]
	[tx_list ind=-0.3 tx='2019/2/20 -ver2.5.0']
	[tx_list tx='・今後のアップデートの効率化のためゲームコードを大幅に書き直し。']
	[tx_list ind=1 tx='フラグを新仕様に書き換えるため前verでセーブしたデータをロードする際少し時間がかかります。']
	[tx_list ind=1 tx='基本的に追加要素以外でゲームの仕様に変更はありませんが、画面の切り替えを早くする工夫もしました。']
	[tx_list ind=1 tx='ただ新仕様の都合上、部分的に今までより読み込みに時間がかかる部分もあるかもしれません。']
	[tx_blank]
	[tx_list tx='・コマンドHシーンの絵を寝室っぽく薄暗いトーンに変更。']
	[tx_list tx='・Hシーン「お外で」にワンピース差分を追加。']
	[tx_list tx='・H表現設定を追加。']
	[tx_list tx='・星、ハート、クローバーのヘアピンにカラーバリエーションを追加。']
	[tx_list tx='・おまけとして同封していた季節物ヘアピンをお店に実装。']
	[tx_list tx='・一時的にオリジナル衣装機能を停止。']
	[tx_blank]
	[tx_list tx='・以下の不具合修正。']
	[tx_list ind=1 tx='・ナース服を着ていない状態から仕事に入りイベントHシーンに移行すると衣装の色が必ず白になる。']
	[tx_list ind=1 tx='・室内で髪に触れることができない。']
	[add_y]
	[tx_list ind=-0.3 tx='2019/5/10 -ver2.5.1']
	[tx_list tx='・以下の不具合修正。']
	[tx_list ind=1 tx='・コマンドHシーンで個別に衣装を脱がせて体位を変更すると脱がせたはずの衣装が戻ってしまう。']
	[tx_list ind=1 tx='・ゲームをロード後(あるいはニューゲームから)着せ替えを行わないまま食事シーンの表示時、']
	[tx_list ind=2 tx='２回目以降の表示の際に後ろ髪が正常に表示されない。']
	[tx_list ind=1 tx='・着せ替えシーンでの落ち着いた服、スカート部分が一部透けている。']
	[add_y]
	[tx_list ind=-0.3 tx='2019/5/11 -ver2.5.2']
	[tx_list tx='ティラノスクリプトを64bit版から32bit版に戻しました。']
	[tx_list tx='※一部のユーザーの「動作が重い」という意見を改善できるかと思って最新版へ更新しましたが、']
	[tx_list ind=1 tx='うまくできていなかったようです。そもそも改善の確認ができない制作環境（bit数が関係ないMac環境＆']
	[tx_list ind=1 tx='テストプレイで重いと体感したことがない）だったので不適切な処置だったかもしれません。']
	[tx_list ind=1 tx='更新によって不具合も改善も確認できておらず、いたずらに混乱だけを招いてしまったようなので戻しました。']
	[tx_list ind=1 tx='すいません。']
	[tx_blank]
	[tx_list tx='・以下の不具合修正。']
	[tx_list ind=1 tx='・ヘアピンを外すボタンを選択してコマンドHシーンに移行すると前髪が表示されない。']
	[tx_list ind=1 tx='・自慰系のイベントイラストでオレンジのシュシュが一部の髪型で違う色で表示されてしまう。']
[elsif exp="f.tab.sub=='30'" ]
	[if exp="tf.r==1" ]
	[tx_list ind=-0.3 tx='2020/10/28 -ver3.0.0']
	[tx_list tx='ティラノスクリプトを最新(v5)へ更新。']
	[tx_list tx='コードをほぼ全て書き直し。']
	[tx_blank]
	[tx_list tx='ゲーム内全てのUI/機能を変更/改善。']
	[tx_list ind=1 tx='・音楽、回想、説明書、を室内メニューに。']
	[tx_list ind=1 tx='・えりょステータスを別項目へ。']
	[tx_list ind=1 tx='・着せ替えボタンを文字でなくアイコンに変更。']
	[tx_list ind=1 tx='・衣装と衣装カラーを別項目に分割。']
	[tx_list ind=1 tx='・シルヴィに触れる手段にコマンド式を追加。']
	[tx_list ind=1 tx='・ベッドシーン前に任意の着せ替えが反映できるように。']
	[tx_list ind=1 tx='・コンフィグ画面を２ページに分割。']
	[tx_list ind=1 tx='・コマンドHシーン中のコマンド表示のカスタマイズ性向上。']
	[tx_list ind=1 tx='・ステータスで確認できる項目追加。']
	[tx_list ind=1 tx='・その他諸々。']
	[tx_blank]
	[tx_list tx='・主人公に名前の設定をできる機能追加。　ゲーム開始時に初期設定画面追加。']
	[tx_list tx='・H要素補正のバリエーション追加。　登録できるHワード数およびその頻度幅増加。']
	[tx_list tx='・コマンドH時のHワード発言率にランダム性を持たせ、それに合わせてテキストも修正。']
	[tx_list tx='・衣装のカラーバリエーション多数追加。']
	[tx_list tx='・日をまたぐ際にコーディネートの中からランダムで衣装変更を行う機能追加。']
	[tx_list tx='・花で作れる新アイテム追加(ムード変更の任意変更機能)。']
	[tx_list tx='・外出時の仕様変更。カフェやブティックに行ったあとも街の散歩が続けられるように。']
	[tx_list tx='・同じトークが連続して発生しにくくなるようコード改善。']
	[tx_list tx='・媚薬と精力剤を廃止し、両方を統合した新アイテムを追加。']
	[tx_list tx='・旧機能廃止と新機能のために一部テキスト修正&加筆。']
	[tx_list tx='・序盤のバッドエンド回避条件変更。']
	[tx_list tx='・サブキャラ数人の立ち絵少し加筆修正。']
	[tx_list tx='・パッチでの不具合修正に対応。']
	[tx_list tx='・その他不具合多数修正。']
	[tx_blank]
	[tx_list tx='・オリジナル衣装およびシナリオ追加機能の完全廃止。']
	[tx_list tx='・一時的に以下の要素を停止。後日再実装予定。']
	[tx_list ind=1 tx='かんざし、ヘアピン(ハート/星/クローバー/月)、グローブ、ボディピアス']
	[elsif exp="tf.r==2" ]
	[tx_list ind=-0.3 tx='2020/10/28~31 -ver3.0.1~-ver3.0.11']
	[tx_list tx='以下の不具合修正']
	[tx_list tx='・タイトルの「パッチを当てる」ボタンを押すとダイアログが出る。']
	[tx_list tx='・初夜イベントで「寝かしつける」を選択するとバグる。']
	[tx_list tx='・更新履歴ページが正常に表示されない。']
	[tx_list tx='・履歴の戻るボタンが正常に表示されない。']
	[tx_list tx='・一人で飲食店に入るとバグる。']
	[tx_list tx='・コマンドHシーンで断面の表示をon/offすると状況によって正常でない画像が表示される。']
	[tx_list tx='・コマンドHシーンで必要条件を満たしていないのに対位を変えられてしまう。']
	[tx_list tx='・一度初夜イベントを断った後ベッドに行くと初夜イベントをスキップしてしまう。']
	[tx_list tx='・花を使ってお茶を入れるとフリーズする。']
	[tx_list tx='・回想画面でヒントボタンが表示されない。']
	[tx_list tx='・ボタン選択式で肩に触れるとエラー。']
	[tx_list tx='・一線を超えていない状態で呼び名を変えてもらおうとするとエラー。']
	[tx_list tx='・下着/エプロ/ン靴下購入時に間違ったセリフが表示される。']
	[tx_list tx='・帽子類を正常に購入できない/購入しようとするとエラー。']
	[tx_list tx='・喫茶店でお茶した時にシルヴィのセリフが枠からはみ出てしまう。']
	[tx_list tx='・淫乱度が低い状態で貶す呼び名で呼ばれようとするとバグる。']
	[tx_list tx='・コミュニケートから仕事/お茶/ベッドへ/脱がせるの動作がでバグる。']
	[tx_list tx='・服屋の「店員と話す」のマウスオーバー時の挙動がおかしい。']
	[tx_list tx='・ベッドに行った場合セックスカウントが増加しない。']
	[tx_list tx='・晩酌モード中のコマンドが正常機能しない。']
	[tx_list tx='・Hイベント「キッチンで３」が本来の条件で発生しない＆裸エプロンでしか発生しない。']
	[tx_list tx='・薄い部屋着の黒色が指定できない。']
	[tx_list tx='・夜に外食すると帰る際に違う衣装に着替えてしまう。']
	[tx_list tx='・フェルムの伝言イベントが発生しない。']
	[tx_list tx='・体を触るコマンドで秘所に触れた際最初から濡れた画像が表示される。']
	[tx_list tx='・スキンシップコミュで口を選択し指を入れるを選択するとエラーダイアログ。']
	[tx_list tx='・シャツ&タイ/セーラー服の上のみを着せると室内画面で服が正常に表示されない。']
	[tx_list tx='・髪留め色の明暗切り替えが正常に機能しない。']
	[tx_list tx='・初夜シーン後画面が切り替わるまで設定アイコンが表示されない。']
	[tx_list tx='・回想シーンで服選択の際にワンピースの黒が表示されない。']
	[tx_list tx='・コーディネートを消去する際の選択肢が正常に表示されない。']
	[elsif exp="tf.r==3" ]
	[tx_list tx='・シルヴィに一緒に寝てほしいとお願いされたのを断っ後に改めて「考えは変わらない」を選ぶとバグる。']
	[tx_list tx='・一人外出時にネフィーと話すコマンドが正常に表示されない。']
	[tx_list tx='・序盤頭を撫でると特定回数で正常にイベントが進行しない。']
	[tx_list tx='・選択式コミュニケートで別コマンド(着替えや名称変更など)を呼び出した直後入力式でコミュトークへ']
	[tx_list ind=1 tx='・移行するとその後選択式コミュ画面に戻ってしまう。']
	[tx_list tx='・コミュでキスを要求した場合キス回数が増加しない。']
	[tx_list tx='・麦わら帽をかぶっていると撫でるときに画像表示失敗の枠が出てしまう。']
	[tx_list tx='・青い花をたくさん入れた時にお茶トークがスキップされてしまう。']
	[tx_list tx='・選択式コミュニケートで「抱きしめて」が二つ存在する。']
	[tx_list tx='・外出時に会話前の画面で設定を開くとゲームに戻ってコマンドを選択後にバグる。']
	[tx_list tx='・コマンドHシーンでセリフがないのにクリック待ちが発生したり、クリック待ちが発生しないでテキストが']
	[tx_list ind=1 tx='有时会前进。']
	[tx_list tx='・即使将百花香设置为在日结束时整理，波普利也会一直放着。']
	[tx_list tx='・从交流中脱下衣服的话，站画切换时衣服的显示会变得奇怪。']
	[tx_list tx='・每天更换服装时有时衣服不能正常显示']
	[tx_list tx='・买来铜锣烧作为伴手礼，喝茶的时候吃的话会坏的。']
	[tx_list tx='・即使蓝色的花不够，也能无限地制作蓝色的波普利。']
	[add_y]
	[tx_list ind=-0.3 tx='2020/11/31~11/5 -ver3.0.12~-ver3.0.19']
	[tx_list tx='以下问题修正。']
	[tx_list tx='・如果在大的色带中切换到选择侧面时抚摸的画面，色带将无法正常显示。']
	[tx_list tx='・口交时如果切换剖面图的显示，就会出现之前的事件蚀刻的剖面图（因为修正失败所以再修正。']
	[tx_list tx='・不计算口交次数。']
	[tx_list tx='・在功能区中转换为命令H场景正常位后，对话框显示。']
	[tx_list tx='・外出立绘场景中半框眼镜的暗色紫色/茶色无法正常显示。']
	[tx_list tx='・即使是柏拉图式的也能接吻。']
	[tx_list tx='・从没穿衣服的状态转移到工作，发生诊疗所H事件的话活动中衣服不显示。']
	[tx_list tx='・一个人出门的时候亲密之后的台词没有正常的分歧。']
	[tx_list tx='・买袜子的时候「标记:[f/ssc]は存在しません」というアラートが出る。']
	[tx_list tx='・只穿水手服上衣/西装上衣“黑色”/只穿腰带紧身衣的话，在室内菜单上衣服不能正常显示。']
	[tx_list tx='・只穿领带和衬衫上衣（全色），抚摸头部的话衣服不会正常显示。']
	[tx_list tx='・在指令H场景中出站时，第一次出现精液不显示的情况。']
	[tx_list tx='・用嘴说之后选择“休息”的话会有错误。']
	[elsif exp="tf.r==4" ]
	[tx_list tx='・消除服装搭配，每天更换衣服，在日期变化的时机服装就会出现错误。']
	[tx_list ind=1 tx='（未成功删除每日目标化信息。使用补丁后才能解决']
	[tx_list ind=1 tx='请用新的搭配覆盖或全部删除重新删除信息。']
	[tx_blank]
	[tx_list tx='・其他各种记述错误的修正和H场景的平衡调整。']
	[tx_list ind=1 tx='・H事件发生前出现对话框。']
	[tx_list ind=1 tx='・上床前不显示双马尾、侧马尾的头发部分。']
	[tx_list ind=1 tx='・在烂醉如泥的活动中，文本有超出框架的部分。']
	[tx_list ind=1 tx='・命令H后发生早上的厨房事件时CG不能正常显示。']
	[tx_list ind=1 tx='・如果选择整理的命令结束晚酌，则会出现对话框，时间的图像不能正常显示。']
	[tx_list ind=1 tx='・在森林里反复散步一段时间（严格来说是33次），散步时就会死机。']
	[tx_list ind=1 tx='・在H场景中出现对话框而不显示访问。']
	[tx_list ind=1 tx='・用发圈或珠子+低双组合的发型推倒系H场景转移时出现对话框。']
	[endif]
[elsif exp="f.tab.sub=='40'" ]
	[if exp="tf.r==1" ]
	[tx_list ind=-0.3 tx='#2023/1/12 -ver4.0.0']
	[tx_blank]
	[tx_list tx='[系统周围]']
	[tx_list tx='・更新霸王龙脚本（v510h。']
	[tx_list tx='・大幅改写代码。变量管理方法和图像的层构成也全部更新。']
	[tx_list tx='・更改文件配置。缩短首次启动所需的时间（另一方面MacOS版导入方法的步骤稍微增加）。']
	[tx_list tx='・通过添加插件，在保存加载画面上追加页面切换式UI和个别删除功能。顺便说一下，插槽数也增加到100。']
	[tx_list tx='・更改更新历史记录的文本显示方法。']
	[tx_list tx='・用于所附乐曲的主控（音量调整）和循环动作的最优化。同时节省文件大小。']
	[tx_list tx='・广泛改善输入式交流的单词受理范围。']
	[tx_list ind=1 tx='例:到现在为止，只有“谢谢/谢谢/一直以来谢谢”这3个是“谢谢交流”发生的触发']
	[tx_list ind=1 tx='「谢谢」如果包含的话，无论什么文章都可以接受。']
	[add_y]
	[tx_list tx='[围绕图形]']
	[tx_list tx='・屏幕比例更改为16:9。与此相应，在所有场景中调整和变更UI和背景。']
	[tx_list tx='・为了新功能和新规格，修正H场景和子角色以外的所有立绘&服装全部重新描绘。']
	[tx_list tx='・重新描绘背景对位的活动H场景+可以反映所有的服装。']
	[tx_list tx='・一部分服装设计大幅度变更。花样，泰国，眼镜等细小的变奏曲也少数追加。']
	[tx_list tx='・追加了一部分服装可以在上、下、领子、肩膀上分别变更的功能。']
	[tx_list tx='・服装的颜色几乎全部服装共通增加到21色，并且每一件衣服最多可以变更3处颜色的功能追加。']
	[tx_list tx='・衣服下框服装3种，新的服装1种，泳衣5种追加。']
	[tx_list tx='・一部分重新安装暂时取消安装的服装和功能。']
	[tx_list tx='・变更文本窗口的角色名表示方法及设计。']
	[tx_list tx='・更改对话框和点击等待图标的设计']
	[tx_list tx='・在特殊气氛下，即使外出也要显示专用设计。']
	[add_y]
	[tx_list tx='[规格/UI周围]']
	[tx_list tx='・追加设定，从一开始就跳过关系变好的过程。']
	[tx_list tx='・追加可以自定义地文淫语的设定。']
	[tx_list tx='・添加以状态记录的多个项目。']
	[tx_list tx='・在名字中追加假名的输入栏，稍微改良了名字称呼的表现。']
	[tx_list tx='・增加淫语设置最大数和发生频率幅度，增加精液称谓要求。']
	[tx_list tx='・买衣服的时候一次能买到的商品的最大数不是依赖于亲密度，而是根据现在的行李量而变化的规格。']
	[elsif exp="tf.r==2" ]
	[tx_list tx='・为了能并用一部分的护发素和双肩&护发素而变更规格。']
	[tx_list tx='・在衣服、领子、统一颜色变更中追加3种颜色的预设变更功能。']
	[tx_list tx='・添加可同时更改替换颜色的功能。']
	[tx_list tx='・添加新的替换预设项。']
	[tx_list tx='・“搭配”按钮上的名称显示功能添加和插槽数也增加到100。']
	[tx_list tx='・主要部分更改H场景中的文本，以配合与称呼相关的功能添加。淫语发言部位的追加和发生率的调整。']
	[tx_list tx='・变更及修正淫乱度或发情状态引起的事件或谈话的分支条件。']
	[tx_list tx='・重新调整特殊气氛和淫乱谈话发生率的概率。']
	[tx_list tx='・追加了给每个角色添加不同颜色的阴影的功能。（可通过设定ON/OFF']
	[tx_list tx='・更改日志设计。']
	[tx_list tx='・再次追加眨眼和假唱的ON/OFF功能。']
	[tx_list ind=1 tx='(有人说因为动画而变得沉重']
	[tx_list ind=1 tx='我持怀疑态度，因为该报告很小，我看不到这种现象，所以我发布了实施。']
	[add_y]

	[tx_list tx='[指挥H场景关系]（由于它没有花费太多时间来调整平衡，因此重新调整计算方法和规格的可能性很高。']
	[tx_list tx='・支持命令H场景的后对位。']
	[tx_list tx='・追加舔的命令。（现状文本是最低限度。日后追加预定。']
	[tx_list tx='・支持胸罩显示。']
	[tx_list tx='・添加新表情。']
	[tx_list tx='・UI焕然一新。室内亮度变更、擦拭身体、行动选择UI的模式等追加。']
	[tx_list tx='・追加在按钮和可点击的地方放置光标时显示对应的行动和部位的功能。']
	[tx_list tx='・设置栏中可以更改BGM和SE的音量。']
	[tx_list tx='・更改顶点的计算方法。安装与整体的绝顶量规不同的每个部位的绝顶。']
	[tx_list tx='・命令H场景前的替换功能再追加。']
	[tx_list tx='（与以前不同，除了搭配的记录和编辑以外，还可以访问全部更换功能。']
	[add_y]
	[tx_list tx='・其他不良影响复数修正。']
	[tx_blank]
	[tx_list tx='※因为一次重新制作新功能部分的差分和功能很累，所以暂时停止以下的功能。计划日后重新实施。']
	[tx_list tx='・工作场景及背景对位以外的活动H场景中的服装反映（相应H事件的发生条件也部分变更）']
	[tx_list tx='・扭蛋场景的插图，正常位的强奸']
	[tx_list tx='・围裙，极小蕾丝内衣']
	[endif]

[elsif exp="f.tab.sub=='41'" ]
	[tx_list ind=-0.3 tx='  ']
	[tx_list tx='  ']
	[tx_list tx='  ']
	[tx_list tx='  ']
	[tx_list tx='  ']
	[tx_blank]
	[tx_list tx='  ']
	[tx_list ind=1 tx='  ']
	[tx_list ind=1 tx='  ']
	[add_y]
[endif]
[return cond="sf.playing!='TeachingFeeling'"]
[s]


;;コンフィグ---------------------------------------------------------------------------------------------
*config
;[eval exp="f.g_info.ks_pre=f.g_info.ks" ]
[cm][stop_shortcut][ks st=sys/system][eval exp="tf.tab='config_ga'" ]
[freechara t=0][free_layermode][nolog][hide_message_w][hide_role]
[if exp="tf.title=='title'" ][eval exp="tf.tab='config_sys'"][else]
	[eval exp="tf.name_temp=f.name.name, tf.name_kana_temp=f.name.kana" ][endif]

*config_menu
[cm][free_tx][freechara t=0][clearfix][clearstack]
[xy x=99 y=22 x_add=180 preg1='config/config/' tg1='*config_menu'][btn/xy]
[clearfix name='tab'][eval exp="tf.role_name='tab'" ]
[if exp="tf.Hxn_conf=='changed'" ][eval exp="tf.Hxn_conf=0" ][Hxn_temp_set_save][endif]
[if exp="tf.title!='title'" ]
	[btn/fix l=x tg=1 g=1 gr=tab_sys sw=tf.tab swm=config_sys exp="tf.tab='config_sys'" ]
	[btn/fix l=x tg=1 g=1 gr=tab_game sw=tf.tab swm=config_ga exp="tf.tab='config_ga'" ]
	[btn/fix l=x tg=1 g=1 gr=tab_game_h sw=tf.tab swm=config_ga_h exp="tf.tab='config_ga_h'" ]
[else]
	[btn/fix l=x tg=1 g=1 gr=tab_sys sw=tf.tab swm=config_sys exp="tf.tab='config_sys'" ]
[endif]
	[btn/fix x=1362 tg=1 g=1 gr=1 sw=tf.tab swm=config_word_a exp="tf.tab='config_word_a'" ]
	[btn/fix x=1436 tg=1 g=1 gr=2 sw=tf.tab swm=config_word_b exp="tf.tab='config_word_b'" ]
	[btn/fix x=1491 y=842 tg=*return_from_config g=1 gr=back ]
[eval exp="f.st[1]= tf.tab" ][bg/ t=100 g=sys st=1 ]
[eval exp="f.tg[1]= '*' + tf.tab +'_menu'" ][jump/ tg=1 ]

*return_from_config
[Hxn_temp_set_save cond="tf.Hxn_conf=='changed'"]
[if exp="tf.title!='title'" ][jump/ tg=*awake_config ]
[else][eval exp="tf.title=0" ][jump/ tg=*title ][endif]

;;コンフィグ(システム設定-----------------------------------------------------------------------------------------------
*config_sys_menu
[cm][eval exp="f.tab.prev='first'" ]
[xy x=158 y=413 x_add=43 preg3='config/number/' preg4='config/config/' ]
[btn/xy]
*conf_sys_switch_btn
[free_tx][xy tg1='*conf_sys_switch_btn']
[clearfix name='switch_btn'][eval exp="tf.role_name='switch_btn'" ]
[btn/fix tg=1 g=4 gr=ga/on x=634 y=169 sw=config.face_ani swm=1 exp="sf.config.face_ani=1" ]
[btn/fix tg=1 g=4 gr=ga/off x=634 y=219 sw=config.face_ani swm=0 exp="sf.config.face_ani=0" ]
[btn/fix tg=1 g=4 gr=ga/on x=1274 y=169 sw=config.key_shortcut swm=1 exp="sf.config.key_shortcut=1" ]
[btn/fix tg=1 g=4 gr=ga/off x=1274 y=219 sw=config.key_shortcut swm=0 exp="sf.config.key_shortcut=0" ]
[btn/fix tg=1 g=4 gr=ga/on x=1274 y=706 sw=config.tx_color swm=1 exp="sf.config.tx_color=1" ]
[btn/fix tg=1 g=4 gr=ga/off x=1274 y=756 sw=config.tx_color swm=0 exp="sf.config.tx_color=0" ]
[if exp="f.tab.prev!='first'" ][clearstack][s][endif]

[wt/]
*tx_speed
[xy x=271 y=413][btn/xy][xy tg1='tx_speed' sw1='config.text_sp' ]
[clearfix name='conf_text_sp'][eval exp="tf.role_name='conf_text_sp'" ]
[btn/fix l=x tg=1 g=3 gr=1 sw=1 swm=1 exp="sf.config.text_sp=1" ][btn/fix l=x tg=1 g=3 gr=2 sw=1 swm=2 exp="sf.config.text_sp=2" ]
[btn/fix l=x tg=1 g=3 gr=3 sw=1 swm=3 exp="sf.config.text_sp=3" ][btn/fix l=x tg=1 g=3 gr=4 sw=1 swm=4 exp="sf.config.text_sp=4" ]
[btn/fix l=x tg=1 g=3 gr=5 sw=1 swm=5 exp="sf.config.text_sp=5" ][btn/fix l=x tg=1 g=3 gr=6 sw=1 swm=6 exp="sf.config.text_sp=6" ]
[btn/fix l=x tg=1 g=3 gr=7 sw=1 swm=7 exp="sf.config.text_sp=7" ][btn/fix l=x tg=1 g=3 gr=8 sw=1 swm=8 exp="sf.config.text_sp=8" ]
[btn/fix l=x tg=1 g=3 gr=9 sw=1 swm=9 exp="sf.config.text_sp=9" ][btn/fix l=x tg=1 g=3 gr=10 sw=1 swm=10 exp="sf.config.text_sp=10" ]
	[if exp="f.tab.prev!='first'" ]
	[set_text_speed][_][set_win_frame_config]
	[show_message_w]文本显示速度测试。[r]以现在的速度显示文本。[p]
	[hide_message_w][set_win_frame][clearstack][s][endif]

[wt/]
*bgm_vol_after
[xy x=916 y=413 ][btn/xy][xy tg1='bgm_vol_after' sw1='config.bgm' ]
[clearfix name='conf_bgm'][eval exp="tf.role_name='conf_bgm'" ]
[btn/fix tg=1 g=4 gr=mute x=1300 y=371 sw=1 swm=0 exp="sf.config.bgm=0" ]
[btn/fix l=x tg=1 g=3 gr=1 sw=1 swm=1 exp="sf.config.bgm=1" ][btn/fix l=x tg=1 g=3 gr=2 sw=1 swm=2 exp="sf.config.bgm=2" ]
[btn/fix l=x tg=1 g=3 gr=3 sw=1 swm=3 exp="sf.config.bgm=3" ][btn/fix l=x tg=1 g=3 gr=4 sw=1 swm=4 exp="sf.config.bgm=4" ]
[btn/fix l=x tg=1 g=3 gr=5 sw=1 swm=5 exp="sf.config.bgm=5" ][btn/fix l=x tg=1 g=3 gr=6 sw=1 swm=6 exp="sf.config.bgm=6" ]
[btn/fix l=x tg=1 g=3 gr=7 sw=1 swm=7 exp="sf.config.bgm=7" ][btn/fix l=x tg=1 g=3 gr=8 sw=1 swm=8 exp="sf.config.bgm=8" ]
[btn/fix l=x tg=1 g=3 gr=9 sw=1 swm=9 exp="sf.config.bgm=9" ][btn/fix l=x tg=1 g=3 gr=10 sw=1 swm=10 exp="sf.config.bgm=10" ]
[xy y=413 ][btn/xy]
[btn/fix x=869 tg=1 g=3 gr=1o4 sw=1 swm=0.2 exp="sf.config.bgm=0.2" ]
[btn/fix x=893 tg=1 g=3 gr=1o2 sw=1 swm=0.5 exp="sf.config.bgm=0.5" ]
[if exp="f.tab.prev!='first'" ][set_bgm_vol][clearstack][s][endif]

[wt/]
*auto_speed_after
[xy x=271 y=530 ][btn/xy][xy tg1='auto_speed_after' sw1='config.auto_sp' ]
[clearfix name='conf_tx_auto'][eval exp="tf.role_name='conf_tx_auto'" ]
[btn/fix l=x tg=1 g=3 gr=1 sw=1 swm=1 exp="sf.config.auto_sp=1" ][btn/fix l=x tg=1 g=3 gr=2 sw=1 swm=2 exp="sf.config.auto_sp=2" ]
[btn/fix l=x tg=1 g=3 gr=3 sw=1 swm=3 exp="sf.config.auto_sp=3" ][btn/fix l=x tg=1 g=3 gr=4 sw=1 swm=4 exp="sf.config.auto_sp=4" ]
[btn/fix l=x tg=1 g=3 gr=5 sw=1 swm=5 exp="sf.config.auto_sp=5" ][btn/fix l=x tg=1 g=3 gr=6 sw=1 swm=6 exp="sf.config.auto_sp=6" ]
[btn/fix l=x tg=1 g=3 gr=7 sw=1 swm=7 exp="sf.config.auto_sp=7" ][btn/fix l=x tg=1 g=3 gr=8 sw=1 swm=8 exp="sf.config.auto_sp=8" ]
[btn/fix l=x tg=1 g=3 gr=9 sw=1 swm=9 exp="sf.config.auto_sp=9" ][btn/fix l=x tg=1 g=3 gr=10 sw=1 swm=10 exp="sf.config.auto_sp=10" ]
[if exp="f.tab.prev!='first'" ][set_auto_speed][clearstack][s][endif]

[wt/]
*sound_after
[xy x=916 y=530 ][btn/xy][xy tg1='sound_after' sw1='config.se' ]
[clearfix name='conf_se'][eval exp="tf.role_name='conf_se'" ]
[btn/fix tg=1 g=4 gr=mute x=1300 y=487 sw=1 swm=0 exp="sf.config.se=0" ]
[btn/fix l=x tg=1 g=3 gr=1 sw=1 swm=1 exp="sf.config.se=1" ][btn/fix l=x tg=1 g=3 gr=2 sw=1 swm=2 exp="sf.config.se=2" ]
[btn/fix l=x tg=1 g=3 gr=3 sw=1 swm=3 exp="sf.config.se=3" ][btn/fix l=x tg=1 g=3 gr=4 sw=1 swm=4 exp="sf.config.se=4" ]
[btn/fix l=x tg=1 g=3 gr=5 sw=1 swm=5 exp="sf.config.se=5" ][btn/fix l=x tg=1 g=3 gr=6 sw=1 swm=6 exp="sf.config.se=6" ]
[btn/fix l=x tg=1 g=3 gr=7 sw=1 swm=7 exp="sf.config.se=7" ][btn/fix l=x tg=1 g=3 gr=8 sw=1 swm=8 exp="sf.config.se=8" ]
[btn/fix l=x tg=1 g=3 gr=9 sw=1 swm=9 exp="sf.config.se=9" ][btn/fix l=x tg=1 g=3 gr=10 sw=1 swm=10 exp="sf.config.se=10" ]
[xy y=530 ][btn/xy]
[btn/fix x=869 tg=1 g=3 gr=1o4 sw=1 swm=0.2 exp="sf.config.se=0.2" ]
[btn/fix x=893 tg=1 g=3 gr=1o2 sw=1 swm=0.5 exp="sf.config.se=0.5" ]
[if exp="f.tab.prev!='first'" ][set_se_vol][se/ st=squi ][clearstack][s][endif]
[eval exp="f.tab.prev=0" ][clearstack][s]

;;コンフィグ(ゲーム設定-----------------------------------------------------------------------------------------------
*config_ga_menu
[cm][free_tx]
[xy x=902 y=306 y_add=30 s=22 ][btn/xy]
[if exp="f.g_config.H_setting==0" ]
[tx_img tx1=适合想避开所有H要素的人。 l=y ]
[tx_img tx1=H相关的命令全部不显示。 l=y ]
[tx_img tx1=跳过以后，就不能再选择了。 l=y ]
[elsif exp="f.g_config.H_setting==1" ]
[tx_img tx1=正常模式。 l=y ]
[tx_img tx1=面向想过比较安定生活的人。 l=y ]
[tx_img tx1=淫乱度的自然减少 l=y ]
[tx_img tx1=女主角好色的发言变得保守。 l=y ]
[elsif exp="f.g_config.H_setting==2" ]
[tx_img tx1=女主角对H的倾向 l=y ]
[tx_img tx1=适合想配合游戏风格的人。 l=y ]
[tx_img tx1=淫乱度的自然减少的模式。 l=y ]
[tx_img tx1=女主角好色的发言率 l=y ]
[tx_img tx1=需要修正淫乱度。 l=y ]
[elsif exp="f.g_config.H_setting==3" ]
[tx_img tx1=H面向想提高活动频率的人 l=y ]
[tx_img tx1=淫乱度的自然减少 l=y ]
[tx_img tx1=相反，在特定条件下淫乱度自然增加。 l=y ]
[tx_img tx1=根据现在的淫乱度随机发情的概率 l=y ]
[tx_img tx1=冷静下降的可能性会减少。 l=y ]
[elsif exp="f.g_config.H_setting==4" ]
[tx_img tx1=适合想和淫乱的女主角过着烂漫生活的人。 l=y ]
[tx_img tx1=以和女主角H的关系为前提 l=y ]
[tx_img tx1=增加淫荡的程度，增加发情的发生率。 l=y ]
[tx_img tx1=柏拉图式路线消失了， l=y ]
[tx_img tx1=她不会随机冷静。 l=y ]
[endif]

;名前設定
[cm][xy preg1='config/config/ga/' tg1='*config_ga_menu' ]
[tx_img n=f.name.name x=457 y=145 s=30]
[tx_box x=258 y=209 h=40 w=431 ex=tf.name_temp]
[btn/ tg=*sbm_name_conf g=1 gr=name_edit x=416 y=262 ]
[btn/ tg=1 g=1 gr=name_non x=538 y=262 sw=name.name swm=未設定 exp="f.name.name='未設定',f.name.kana='未設定'"]

[if exp="f.name.name!='未設定'" ]
	[if exp="f.name.kana==f.name.name" ]
	[tx_img tx1=未設定 x=392 y=322 s=30][else]
	[tx_img n=f.name.kana x=392 y=322 s=30][endif]
	
	[tx_box x=258 y=378 h=40 w=431 ex=tf.name_kana_temp]
	[btn/ tg=*sbm_name_conf g=1 gr=name_edit x=416 y=429 ]
	[btn/ tg=1 g=1 gr=name_non x=538 y=429 sw=name.kana swm=未設定 exp="f.name.kana=f.name.name"]
[endif]

;触り設定
[if exp="f.g_config.touch_command==1" ]
[btn/ x=177 y=556 tg=1 g=1 gr=touch_command sw=touch_command swm=1 exp="f.g_config.touch_command=0" ][else]
[btn/ x=177 y=556 tg=1 g=1 gr=touch_command sw=touch_command swm=1 exp="f.g_config.touch_command=1" ][endif]
[if exp="f.g_config.touch_direct==1" ]
[btn/ x=464 y=556 tg=1 g=1 gr=touch_direct sw=touch_direct swm=1 exp="f.g_config.touch_direct=0" ][else]
[btn/ x=464 y=556 tg=1 g=1 gr=touch_direct sw=touch_direct swm=1 exp="f.g_config.touch_direct=1" ][endif]


;日替わり衣装on/off
[if exp="f.state.step>=6" ]
[btn/ tg=1 g=1 gr=on x=1300 y=630 sw=d_daily_change swm=1 exp="f.g_config.d_daily_change=1" ]
[btn/ tg=1 g=1 gr=off x=1300 y=683 sw=d_daily_change swm=0 exp="f.g_config.d_daily_change=0" ][endif]

;H補正設定
[xy x=984 y=232 x_add=63 ][btn/xy]
[btn/ l=x tg=1 g=1 gr=heart mo=1 sw=H_setting swm=4 exp="f.g_config.H_setting=4"]
[btn/ l=x tg=1 g=1 gr=heart mo=1 sw=H_setting swm=3 exp="f.g_config.H_setting=3"]
[btn/ l=x tg=1 g=1 gr=heart mo=1 sw=H_setting swm=2 exp="f.g_config.H_setting=2"]
[btn/ l=x tg=1 g=1 gr=heart mo=1 sw=H_setting swm=1 exp="f.g_config.H_setting=1"]
[if exp="f.x_count.sex==0" ]
[btn/ l=x tg=1 g=1 gr=heart mo=1 sw=H_setting swm=0 exp="f.g_config.H_setting=0"][else]
[btn/ l=x tg=1 g=1 gr=heart_x mo=1 sw=H_setting ][endif]
[s]

*sbm_name_conf
[commit][cm]
[eval cond="tf.name_temp!=''" exp="f.name.name=tf.name_temp, f.name.kana=tf.name_temp" ]
[eval cond="tf.name_kana_temp!=''" exp="f.name.kana=tf.name_kana_temp" ]
[name_call_set][jump/ tg=*config_ga_menu ]



;;コンフィグ(ゲームH設定-----------------------------------------------------------------------------------------------
*config_ga_h_menu
[c_mod n=xr ][c_mod n=tx ][c_mod n=se ][c_mod n=ef ][c_mod n=other ]
[c_show n=other t=0 z=10 resize=1][c_show n=xr t=0 z=20 resize=1 ][c_show n=tx t=0 z=30 resize=1 ][c_show n=se t=0 z=40 resize=1 ]
[c_show n=ef t=0 z=50 resize=1 ]

*set_H_effect
[if exp="f.g_config.H_setting==0" ][c_mod n=other ][c_mod n=xr ][c_mod n=tx ][c_mod n=se ][c_mod n=ef ][c_mod n=other ]
[else][c_mod n=other st=sys/config/syl ]
	[if exp="sf.h_effect.xr==1" ][c_mod n=xr st=sys/config/xr ][else][c_mod n=xr ][endif]
	[if exp="sf.h_effect.tx==1" ][c_mod n=tx st=sys/config/tx ][else][c_mod n=tx ][endif]
	[if exp="sf.h_effect.se==1" ][c_mod n=se st=sys/config/se ][else][c_mod n=se ][endif]
	[if exp="sf.h_effect.ef==1" ][c_mod n=ef st=sys/config/ef ][else][c_mod n=ef ][endif]
[endif]

*config_ga_h_btn
[cm]
;H表現演出
[xy preg3='config/config/ga_h/' tg1='*set_H_effect' ]
[xy x=220 y=555 y_add=56 ][btn/xy]
[if exp="sf.h_effect.xr==1" ][btn/ l=y tg=1 g=3 gr=ef_xr- mo=1 exp="sf.h_effect.xr=0" ]
[else][btn/ l=y tg=1 g=3 gr=ef_xr exp="sf.h_effect.xr=1" ][endif]
[if exp="sf.h_effect.se==1" ][btn/ l=y tg=1 g=3 gr=ef_se- mo=1 exp="sf.h_effect.se=0" ]
[else][btn/ l=y tg=1 g=3 gr=ef_se exp="sf.h_effect.se=1" ][endif]
[if exp="sf.h_effect.tx==1" ][btn/ l=y tg=1 g=3 gr=ef_tx- mo=1 exp="sf.h_effect.tx=0" ]
[else][btn/ l=y tg=1 g=3 gr=ef_tx exp="sf.h_effect.tx=1" ][endif]
[if exp="sf.h_effect.ef==1" ][btn/ l=y tg=1 g=3 gr=ef_ef- mo=1 exp="sf.h_effect.ef=0" ]
[else][btn/ l=y tg=1 g=3 gr=ef_ef exp="sf.h_effect.ef=1" ][endif]

[xy y=262 tg1='*config_ga_h_btn' ]
[btn/ x=485 tg=1 g=3 gr=ex_do sw=h_effect.fin_choice swm=select exp="sf.h_effect.fin_choice='select'"]
[if exp="sf.h_effect.fin_choice=='select'" ]
	[btn/ x=579 tg=1 g=3 gr=ex_not sw=h_effect.fin_choice swm=in exp="sf.h_effect.fin_choice='in'"]
[else]
	[btn/ x=579 tg=1 g=3 gr=ex_not- mo=1 exp="sf.h_effect.fin_choice='in'"]
	[xy y=348 ]
	[btn/ tg=1 g=3 gr=z_in x=462 sw=h_effect.fin_choice swm=in exp="sf.h_effect.fin_choice='in'"]
	[btn/ tg=1 g=3 gr=z_kake x=579 sw=h_effect.fin_choice swm=out exp="sf.h_effect.fin_choice='out'"]
[endif]
[s]


;;コンフィグ(地の文隠語A
*conf_h_word_switch_f
[if exp="f.hx_conf.tx_word=='f'" ][clearstack][s]
[else][Hxn_temp_set_save][eval exp="f.hx_conf.tx_word='f'" ][Hxn_temp_set_load][jump/ tg=*config_menu ][endif]
*conf_h_word_switch_sf
[if exp="f.hx_conf.tx_word=='sf'" ][clearstack][s]
[else][Hxn_temp_set_save][eval exp="f.hx_conf.tx_word='sf'" ][Hxn_temp_set_load][jump/ tg=*config_menu ][endif]

;A----------------------------------------------------------------------------------------------
*config_word_a_menu
[cm][free_tx][freechara t=0][clearstack][Hxn_temp_set_load][eval exp="f.tab.prev='first'" ]
[xy tg1='*config_Hxn_del_a' tg2='*config_Hxn_sbm_a' tg3='*config_Hxn_switch_a' preg1='config/config/word/' ]

[if exp="tf.title!='title'" ][eval exp="tf.role_name='conf_h_word_switch'" ]
[btn/fix x=1027 y=87 tg=*conf_h_word_switch_f g=1 gr=use_f sw=f.hx_conf.tx_word swm=f ]
[btn/fix x=1263 y=87 tg=*conf_h_word_switch_sf g=1 gr=use_sf sw=f.hx_conf.tx_word swm=sf ]
[endif]

*conf_h_word_bace_a
[free_tx][xy x=155 y=215 x_add=331 y_add=55 s=28 ][btn/xy]
[tx_img n=tf.Hxn_v[1] l=x cond="tf.Hxn_v[1]!=''" ][tx_img n=tf.Hxn_v[2] l=x cond="tf.Hxn_v[2]!=''" ][add_y]
[tx_img n=tf.Hxn_v[3] l=x cond="tf.Hxn_v[3]!=''" ][tx_img n=tf.Hxn_v[4] l=x cond="tf.Hxn_v[4]!=''" ]
[add_y][eval exp="f.y.bace+=120" ]
[tx_img n=tf.Hxn_c[1] l=x cond="tf.Hxn_c[1]!=''" ][tx_img n=tf.Hxn_c[2] l=x cond="tf.Hxn_c[2]!=''" ][add_y]
[tx_img n=tf.Hxn_c[3] l=x cond="tf.Hxn_c[3]!=''" ][tx_img n=tf.Hxn_c[4] l=x cond="tf.Hxn_c[4]!=''" ]
[add_y][eval exp="f.y.bace+=120" ]
[tx_img n=tf.Hxn_b[1] l=x cond="tf.Hxn_b[1]!=''" ][tx_img n=tf.Hxn_b[2] l=x cond="tf.Hxn_b[2]!=''" ][add_y]
[tx_img n=tf.Hxn_b[3] l=x cond="tf.Hxn_b[3]!=''" ][tx_img n=tf.Hxn_b[4] l=x cond="tf.Hxn_b[4]!=''" ]
;x+681
[xy x=836 y=215 ][btn/xy]
[tx_img n=tf.Hxn_iv[1] l=x cond="tf.Hxn_iv[1]!=''" ][tx_img n=tf.Hxn_iv[2] l=x cond="tf.Hxn_iv[2]!=''" ][add_y]
[tx_img n=tf.Hxn_iv[3] l=x cond="tf.Hxn_iv[3]!=''" ][tx_img n=tf.Hxn_iv[4] l=x cond="tf.Hxn_iv[4]!=''" ]
[add_y][eval exp="f.y.bace+=120" ]
[tx_img n=tf.Hxn_u[1] l=x cond="tf.Hxn_u[1]!=''" ][tx_img n=tf.Hxn_u[2] l=x cond="tf.Hxn_u[2]!=''" ][add_y]
[tx_img n=tf.Hxn_u[3] l=x cond="tf.Hxn_u[3]!=''" ][tx_img n=tf.Hxn_u[4] l=x cond="tf.Hxn_u[4]!=''" ]
[add_y][eval exp="f.y.bace+=120" ]
[tx_img n=tf.Hxn_m[1] l=x cond="tf.Hxn_m[1]!=''" ][tx_img n=tf.Hxn_m[2] l=x cond="tf.Hxn_m[2]!=''" ][add_y]
[tx_img n=tf.Hxn_m[3] l=x cond="tf.Hxn_m[3]!=''" ][tx_img n=tf.Hxn_m[4] l=x cond="tf.Hxn_m[4]!=''" ]


;取り消しボタン
[xy x=389 y=220 ][btn/xy]
[clearfix name='conf_h_word_bace'][eval exp="tf.role_name='conf_h_word_bace'" ]
[btn/fix cond="tf.Hxn_v[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='v', tf.r=1" ]
[btn/fix cond="tf.Hxn_v[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='v', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_v[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='v', tf.r=3" ]
[btn/fix cond="tf.Hxn_v[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='v', tf.r=4" ]
[add_y][eval exp="f.y.bace+=120" ]
[btn/fix cond="tf.Hxn_c[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='c', tf.r=1" ]
[btn/fix cond="tf.Hxn_c[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='c', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_c[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='c', tf.r=3" ]
[btn/fix cond="tf.Hxn_c[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='c', tf.r=4" ]
[add_y][eval exp="f.y.bace+=120" ]
[btn/fix cond="tf.Hxn_b[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='b', tf.r=1" ]
[btn/fix cond="tf.Hxn_b[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='b', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_b[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='b', tf.r=3" ]
[btn/fix cond="tf.Hxn_b[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='b', tf.r=4" ]
[wt/]
[xy x=1070 y=220 ][btn/xy]
[btn/fix cond="tf.Hxn_iv[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='iv', tf.r=1" ]
[btn/fix cond="tf.Hxn_iv[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='iv', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_iv[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='iv', tf.r=3" ]
[btn/fix cond="tf.Hxn_iv[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='iv', tf.r=4" ]
[add_y][eval exp="f.y.bace+=120" ]
[btn/fix cond="tf.Hxn_u[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='u', tf.r=1" ]
[btn/fix cond="tf.Hxn_u[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='u', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_u[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='u', tf.r=3" ]
[btn/fix cond="tf.Hxn_u[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='u', tf.r=4" ]
[add_y][eval exp="f.y.bace+=120" ]
[btn/fix cond="tf.Hxn_m[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='m', tf.r=1" ]
[btn/fix cond="tf.Hxn_m[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='m', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_m[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='m', tf.r=3" ]
[btn/fix cond="tf.Hxn_m[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='m', tf.r=4" ]

[wt/]
[xy x=151 y=326 w=476 h=35 y_add=232 w=476 h=37][btn/xy]
[if exp="tf.Hxn_v[4]!=''" ]
[elsif exp="tf.Hxn_v[1]==''" ][tx_box ex=tf.Hxn_v[1] ]
[elsif exp="tf.Hxn_v[2]==''" ][tx_box ex=tf.Hxn_v[2] ]
[elsif exp="tf.Hxn_v[3]==''" ][tx_box ex=tf.Hxn_v[3] ]
[elsif exp="tf.Hxn_v[4]==''" ][tx_box ex=tf.Hxn_v[4] ][endif]
[add_y]
[if exp="tf.Hxn_c[4]!=''" ]
[elsif exp="tf.Hxn_c[1]==''" ][tx_box ex=tf.Hxn_c[1] ]
[elsif exp="tf.Hxn_c[2]==''" ][tx_box ex=tf.Hxn_c[2] ]
[elsif exp="tf.Hxn_c[3]==''" ][tx_box ex=tf.Hxn_c[3] ]
[elsif exp="tf.Hxn_c[4]==''" ][tx_box ex=tf.Hxn_c[4] ][endif]
[add_y]
[if exp="tf.Hxn_b[4]!=''" ]
[elsif exp="tf.Hxn_b[1]==''" ][tx_box ex=tf.Hxn_b[1] ]
[elsif exp="tf.Hxn_b[2]==''" ][tx_box ex=tf.Hxn_b[2] ]
[elsif exp="tf.Hxn_b[3]==''" ][tx_box ex=tf.Hxn_b[3] ]
[elsif exp="tf.Hxn_b[4]==''" ][tx_box ex=tf.Hxn_b[4] ][endif]

[xy x=832 y=326 ][btn/xy]
[if exp="tf.Hxn_iv[4]!=''" ]
[elsif exp="tf.Hxn_iv[1]==''" ][tx_box ex=tf.Hxn_iv[1] ]
[elsif exp="tf.Hxn_iv[2]==''" ][tx_box ex=tf.Hxn_iv[2] ]
[elsif exp="tf.Hxn_iv[3]==''" ][tx_box ex=tf.Hxn_iv[3] ]
[elsif exp="tf.Hxn_iv[4]==''" ][tx_box ex=tf.Hxn_iv[4] ][endif]
[add_y]
[if exp="tf.Hxn_u[4]!=''" ]
[elsif exp="tf.Hxn_u[1]==''" ][tx_box ex=tf.Hxn_u[1] ]
[elsif exp="tf.Hxn_u[2]==''" ][tx_box ex=tf.Hxn_u[2] ]
[elsif exp="tf.Hxn_u[3]==''" ][tx_box ex=tf.Hxn_u[3] ]
[elsif exp="tf.Hxn_u[4]==''" ][tx_box ex=tf.Hxn_u[4] ][endif]
[add_y]
[if exp="tf.Hxn_m[4]!=''" ]
[elsif exp="tf.Hxn_m[1]==''" ][tx_box ex=tf.Hxn_m[1] ]
[elsif exp="tf.Hxn_m[2]==''" ][tx_box ex=tf.Hxn_m[2] ]
[elsif exp="tf.Hxn_m[3]==''" ][tx_box ex=tf.Hxn_m[3] ]
[elsif exp="tf.Hxn_m[4]==''" ][tx_box ex=tf.Hxn_m[4] ][endif]

[xy x=644 y=325 ][btn/xy]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_v[4]==''" exp="tf.word='v'" ][add_y]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_c[4]==''" exp="tf.word='c'" ][add_y]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_b[4]==''" exp="tf.word='b'" ]
[xy x=1325 y=325 ][btn/xy]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_iv[4]==''" exp="tf.word='iv'" ][add_y]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_u[4]==''" exp="tf.word='u'" ][add_y]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_m[4]==''" exp="tf.word='m'" ]
[if exp="f.tab.prev!='first'" ][clearstack][s][endif]


*conf_h_word_use_a
;[xy x=375 y=165 x_add=200 y_add=232][btn/xy]
;[clearfix name='conf_h_word_use'][eval exp="tf.role_name='conf_h_word_use'" ]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.v swm=1 exp="tf.Hxn_num.v=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.v swm=0 exp="tf.Hxn_num.v=0" ][add_y]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.c swm=1 exp="tf.Hxn_num.c=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.c swm=0 exp="tf.Hxn_num.c=0" ][add_y]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.b swm=1 exp="tf.Hxn_num.b=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.b swm=0 exp="tf.Hxn_num.b=0" ][add_y]
;[xy x=1056 y=165 ][btn/xy]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.iv swm=1 exp="tf.Hxn_num.iv=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.iv swm=0 exp="tf.Hxn_num.iv=0" ][add_y]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.u swm=1 exp="tf.Hxn_num.u=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.u swm=0 exp="tf.Hxn_num.u=0" ][add_y]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.m swm=1 exp="tf.Hxn_num.m=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.m swm=0 exp="tf.Hxn_num.m=0" ][add_y]
[eval exp="f.tab.prev=0" ][clearstack][s]

*config_Hxn_sbm_a
[commit][cm][eval exp="tf.Hxn_conf='changed'" ][jump/ tg=*conf_h_word_bace_a ]
*config_Hxn_del_a
[cm][Hxn_del][eval exp="tf.Hxn_conf='changed'" ][jump/ tg=*conf_h_word_bace_a ]
*config_Hxn_switch_a
[eval exp="tf.Hxn_conf='changed'" ][jump/ tg=*conf_h_word_use_a ]


;B----------------------------------------------------------------------------------------------
*config_word_b_menu
[cm][free_tx][freechara t=0][clearstack][Hxn_temp_set_load]
[eval exp="f.tab.prev='first'" ]
[xy tg1='*config_Hxn_del_b' tg2='*config_Hxn_sbm_b' tg3='*config_Hxn_switch_b' preg1='config/config/word/' ]

[if exp="tf.title!='title'" ][eval exp="tf.role_name='conf_h_word_switch'" ]
[btn/fix x=1027 y=87 tg=*conf_h_word_switch_f g=1 gr=use_f sw=f.hx_conf.tx_word swm=f ]
[btn/fix x=1263 y=87 tg=*conf_h_word_switch_sf g=1 gr=use_sf sw=f.hx_conf.tx_word swm=sf ]
[endif]

*conf_h_word_bace_b
[free_tx][xy x=155 y=215 x_add=331 y_add=55 s=28 ][btn/xy]
[tx_img n=tf.Hxn_p[1] l=x cond="tf.Hxn_p[1]!=''" ][tx_img n=tf.Hxn_p[2] l=x cond="tf.Hxn_p[2]!=''" ][add_y]
[tx_img n=tf.Hxn_p[3] l=x cond="tf.Hxn_p[3]!=''" ][tx_img n=tf.Hxn_p[4] l=x cond="tf.Hxn_p[4]!=''" ]
[add_y][eval exp="f.y.bace+=120" ]
[tx_img n=tf.Hxn_x[1] l=x cond="tf.Hxn_x[1]!=''" ][tx_img n=tf.Hxn_x[2] l=x cond="tf.Hxn_x[2]!=''" ][add_y]
[tx_img n=tf.Hxn_x[3] l=x cond="tf.Hxn_x[3]!=''" ][tx_img n=tf.Hxn_x[4] l=x cond="tf.Hxn_x[4]!=''" ]
[add_y][eval exp="f.y.bace+=120" ]
[tx_img n=tf.Hxn_z[1] l=x cond="tf.Hxn_z[1]!=''" ][tx_img n=tf.Hxn_z[2] l=x cond="tf.Hxn_z[2]!=''" ][add_y]
[tx_img n=tf.Hxn_z[3] l=x cond="tf.Hxn_z[3]!=''" ][tx_img n=tf.Hxn_z[4] l=x cond="tf.Hxn_z[4]!=''" ]
;x+681
[xy x=836 y=215 ][btn/xy]
[tx_img n=tf.Hxn_ex[1] l=x cond="tf.Hxn_ex[1]!=''" ][tx_img n=tf.Hxn_ex[2] l=x cond="tf.Hxn_ex[2]!=''" ][add_y]
[tx_img n=tf.Hxn_ex[3] l=x cond="tf.Hxn_ex[3]!=''" ][tx_img n=tf.Hxn_ex[4] l=x cond="tf.Hxn_ex[4]!=''" ]
[add_y][eval exp="f.y.bace+=120" ]
[tx_img n=tf.Hxn_o[1] l=x cond="tf.Hxn_o[1]!=''" ][tx_img n=tf.Hxn_o[2] l=x cond="tf.Hxn_o[2]!=''" ][add_y]
[tx_img n=tf.Hxn_o[3] l=x cond="tf.Hxn_o[3]!=''" ][tx_img n=tf.Hxn_o[4] l=x cond="tf.Hxn_o[4]!=''" ]
[add_y][eval exp="f.y.bace+=120" ]
[tx_img n=tf.Hxn_w[1] l=x cond="tf.Hxn_w[1]!=''" ][tx_img n=tf.Hxn_w[2] l=x cond="tf.Hxn_w[2]!=''" ][add_y]
[tx_img n=tf.Hxn_w[3] l=x cond="tf.Hxn_w[3]!=''" ][tx_img n=tf.Hxn_w[4] l=x cond="tf.Hxn_w[4]!=''" ]


;取り消しボタン
[xy x=389 y=220 ][btn/xy]
[clearfix name='conf_h_word_bace'][eval exp="tf.role_name='conf_h_word_bace'" ]
[btn/fix cond="tf.Hxn_p[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='p', tf.r=1" ]
[btn/fix cond="tf.Hxn_p[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='p', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_p[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='p', tf.r=3" ]
[btn/fix cond="tf.Hxn_p[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='p', tf.r=4" ]
[add_y][eval exp="f.y.bace+=120" ]
[btn/fix cond="tf.Hxn_x[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='x', tf.r=1" ]
[btn/fix cond="tf.Hxn_x[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='x', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_x[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='x', tf.r=3" ]
[btn/fix cond="tf.Hxn_x[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='x', tf.r=4" ]
[add_y][eval exp="f.y.bace+=120" ]
[btn/fix cond="tf.Hxn_z[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='z', tf.r=1" ]
[btn/fix cond="tf.Hxn_z[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='z', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_z[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='z', tf.r=3" ]
[btn/fix cond="tf.Hxn_z[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='z', tf.r=4" ]
[wt/]
[xy x=1070 y=220 ][btn/xy]
[btn/fix cond="tf.Hxn_ex[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='ex', tf.r=1" ]
[btn/fix cond="tf.Hxn_ex[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='ex', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_ex[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='ex', tf.r=3" ]
[btn/fix cond="tf.Hxn_ex[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='ex', tf.r=4" ]
[add_y][eval exp="f.y.bace+=120" ]
[btn/fix cond="tf.Hxn_o[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='o', tf.r=1" ]
[btn/fix cond="tf.Hxn_o[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='o', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_o[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='o', tf.r=3" ]
[btn/fix cond="tf.Hxn_o[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='o', tf.r=4" ]
[add_y][eval exp="f.y.bace+=120" ]
[btn/fix cond="tf.Hxn_w[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='w', tf.r=1" ]
[btn/fix cond="tf.Hxn_w[2]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='w', tf.r=2" ][add_y]
[btn/fix cond="tf.Hxn_w[3]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='w', tf.r=3" ]
[btn/fix cond="tf.Hxn_w[4]!=''" l=x tg=1 g=1 gr=delete exp="tf.word='w', tf.r=4" ]

[wt/]
[xy x=151 y=326 w=476 h=35 y_add=232 w=476 h=37][btn/xy]
[if exp="tf.Hxn_p[4]!=''" ]
[elsif exp="tf.Hxn_p[1]==''" ][tx_box ex=tf.Hxn_p[1] ]
[elsif exp="tf.Hxn_p[2]==''" ][tx_box ex=tf.Hxn_p[2] ]
[elsif exp="tf.Hxn_p[3]==''" ][tx_box ex=tf.Hxn_p[3] ]
[elsif exp="tf.Hxn_p[4]==''" ][tx_box ex=tf.Hxn_p[4] ][endif]
[add_y]
[if exp="tf.Hxn_x[4]!=''" ]
[elsif exp="tf.Hxn_x[1]==''" ][tx_box ex=tf.Hxn_x[1] ]
[elsif exp="tf.Hxn_x[2]==''" ][tx_box ex=tf.Hxn_x[2] ]
[elsif exp="tf.Hxn_x[3]==''" ][tx_box ex=tf.Hxn_x[3] ]
[elsif exp="tf.Hxn_x[4]==''" ][tx_box ex=tf.Hxn_x[4] ][endif]
[add_y]
[if exp="tf.Hxn_z[4]!=''" ]
[elsif exp="tf.Hxn_z[1]==''" ][tx_box ex=tf.Hxn_z[1] ]
[elsif exp="tf.Hxn_z[2]==''" ][tx_box ex=tf.Hxn_z[2] ]
[elsif exp="tf.Hxn_z[3]==''" ][tx_box ex=tf.Hxn_z[3] ]
[elsif exp="tf.Hxn_z[4]==''" ][tx_box ex=tf.Hxn_z[4] ][endif]

[xy x=832 y=326 ][btn/xy]
[if exp="tf.Hxn_ex[4]!=''" ]
[elsif exp="tf.Hxn_ex[1]==''" ][tx_box ex=tf.Hxn_ex[1] ]
[elsif exp="tf.Hxn_ex[2]==''" ][tx_box ex=tf.Hxn_ex[2] ]
[elsif exp="tf.Hxn_ex[3]==''" ][tx_box ex=tf.Hxn_ex[3] ]
[elsif exp="tf.Hxn_ex[4]==''" ][tx_box ex=tf.Hxn_ex[4] ][endif]
[add_y]
[if exp="tf.Hxn_o[4]!=''" ]
[elsif exp="tf.Hxn_o[1]==''" ][tx_box ex=tf.Hxn_o[1] ]
[elsif exp="tf.Hxn_o[2]==''" ][tx_box ex=tf.Hxn_o[2] ]
[elsif exp="tf.Hxn_o[3]==''" ][tx_box ex=tf.Hxn_o[3] ]
[elsif exp="tf.Hxn_o[4]==''" ][tx_box ex=tf.Hxn_o[4] ][endif]
[add_y]
[if exp="tf.Hxn_w[4]!=''" ]
[elsif exp="tf.Hxn_w[1]==''" ][tx_box ex=tf.Hxn_w[1] ]
[elsif exp="tf.Hxn_w[2]==''" ][tx_box ex=tf.Hxn_w[2] ]
[elsif exp="tf.Hxn_w[3]==''" ][tx_box ex=tf.Hxn_w[3] ]
[elsif exp="tf.Hxn_w[4]==''" ][tx_box ex=tf.Hxn_w[4] ][endif]

[xy x=644 y=325 ][btn/xy]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_p[4]==''" exp="tf.word='p'" ][add_y]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_x[4]==''" exp="tf.word='x'" ][add_y]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_z[4]==''" exp="tf.word='z'" ]
[xy x=1325 y=325 ][btn/xy]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_ex[4]==''" exp="tf.word='ex'" ][add_y]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_o[4]==''" exp="tf.word='o'" ][add_y]
[btn/fix tg=2 g=1 gr=add_word cond="tf.Hxn_w[4]==''" exp="tf.word='w'" ]
[if exp="f.tab.prev!='first'" ][clearstack][s][endif]


*conf_h_word_use_b
;[xy x=375 y=165 x_add=200 y_add=232][btn/xy]
;[clearfix name='conf_h_word_use'][eval exp="tf.role_name='conf_h_word_use'" ]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.p swm=1 exp="tf.Hxn_num.p=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.p swm=0 exp="tf.Hxn_num.p=0" ][add_y]
;[add_x_blank][add_y]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.x swm=1 exp="tf.Hxn_num.x=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.x swm=0 exp="tf.Hxn_num.x=0" ][add_y]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.z swm=1 exp="tf.Hxn_num.z=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.z swm=0 exp="tf.Hxn_num.z=0" ][add_y]
;[add_x_blank][add_y]
;[xy x=1056 y=165 ][btn/xy]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.ex swm=1 exp="tf.Hxn_num.ex=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.ex swm=0 exp="tf.Hxn_num.ex=0" ][add_y]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.o swm=1 exp="tf.Hxn_num.o=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.o swm=0 exp="tf.Hxn_num.o=0" ][add_y]
;[btn/fix l=x tg=3 g=1 gr=word_do sw=tf.Hxn_num.w swm=1 exp="tf.Hxn_num.w=1" ][btn/fix l=x tg=3 g=1 gr=word_dont sw=tf.Hxn_num.w swm=0 exp="tf.Hxn_num.w=0" ][add_y]
[eval exp="f.tab.prev=0" ][clearstack][s]

*config_Hxn_sbm_b
[commit][cm][eval exp="tf.Hxn_conf='changed'" ][jump/ tg=*conf_h_word_bace_b ]
*config_Hxn_del_b
[cm][Hxn_del][eval exp="tf.Hxn_conf='changed'" ][jump/ tg=*conf_h_word_bace_b ]
*config_Hxn_switch_b
[eval exp="tf.Hxn_conf='changed'" ][jump/ tg=*conf_h_word_use_b ]


;;トーク（ステップ分岐-----------------------------------------------------------------------------
*talk
[cm][last_act exp=talk ]
[jump/ cond="f.state.step==6" st=talk/room tg=*talk ]
[eval exp="f.tg[1]='*talk_lead' + f.state.step" ][jump/ st=talk/intro tg=1 ]

;撫で（ステップ分岐--------------------------------------------------------------------------------
*nade
[cm][last_act exp=nade ][eval exp="f.nade_c=1" ]
[set_nade][show_repeat_role st=nade]
[jump/ cond="f.state.step==6" st=talk/room tg=*nade ]
[eval exp="f.tg[1]='*nade_lead' + f.state.step" ][jump/ st=talk/intro tg=1 ]

;;撫で後--------------------------------------------------------------------------------------------------
*after_nade
[eval exp="f.act.time+=1, f.state.love+=1, f.count.nade+=1,f.act.last='nade_conti'" ]
[eval exp="f.state.love+=1, f.daily.nade+=1" cond="f.state.step==6" ]
[jump/ tg=*stop_nade cond="f.act.time>=7" ][set_time]

[if exp="f.g_config.repeat_mode==1" ]
	[if exp="f.state.step<=5 || f.nade_c==1" ][jump/ tg=*nade_continue_ ]
	[elsif exp="f.nade_c==2" ][jump/ tg=*nade_continue2_ ]
	[elsif exp="f.nade_c==3" ][jump/ tg=*nade_continue3_ ][endif][endif]


;撫でメニュー
[c_mod n=win st=room/nade ]
[xy x=1239 preg1='menu/s_menu/n_' ]

[if exp="f.state.step>=6" ][xy y=110 y_add=70 ][else][xy y=140 y_add=90 ][endif][btn/xy]
[if exp="f.nade_c==1 || f.state.step<=5" ]
[btn/ l=y tg=*nade_continue_ g=1 gr=conti ][else]
[btn/ l=y tg=*nade_continue g=1 gr=head ][endif]
[if exp="f.nade_c==2" ][btn/ l=y tg=*nade_continue2_ g=1 gr=conti ]
[elsif exp="f.state.love>=250" ][btn/ l=y tg=*nade_continue2 g=1 gr=cheek ][endif]
[if exp="f.nade_c==3" ][btn/ l=y tg=*nade_continue3_ g=1 gr=conti ]

[elsif exp="f.state.mood=='lust' || f.state.lust>=300" ][btn/ l=y tg=*nade_continue3 g=1 gr=mouth ]
[elsif exp="f.state.step>=6" ][add_y][endif]
[btn/ l=y tg=*stop_nade g=1 gr=stop ][s]

*nade_continue
[cm][c_mod n=win st=00 ][eval exp="f.nade_c=1" ][body_set hand=hand_head ]
[_]（手拿在头上，抚摸着希尔薇柔软的头发。[p]
[jump/ st=talk/room tg=*nade ]

*nade_continue_
[cm][c_mod n=win st=00 ][eval exp="f.nade_conti=1" ]
[if exp="f.state.step==6" ][jump/ st=talk/room tg=*nade ][else]
[eval exp="f.tg[1]='*nade_lead' + f.state.step" ][jump/ st=talk/intro tg=1 ][endif]

*nade_continue2
[cm][c_mod n=win st=00 ][body_set hand=hand_cheek ]
[_]（手滑到脸颊上，触摸希尔薇温暖的脸颊。[p]
*nade_continue2_
[cm][c_mod n=win st=00 ]
[eval exp="f.nade_conti=1,f.nade_c=2" ]
[jump/ st=talk/room tg=*nade ]
*nade_continue3
[cm][c_mod n=win st=00 ]
[eval exp="f.nade_conti=1,f.nade_c=3" ]
[set_nade][f/ y=d e=cl c=p][nade_li st=n][show_nade]
[syl]ん…[p]
[_][if exp="f.act.last=='touch_mouth'" ][last_act exp=nade_conti ]
（把手指轻轻地塞进希尔薇的嘴里，她一言不发地开始吮吸着手指[p]
[else]
（希尔薇轻轻地将手放在了她的脸颊，开始用她的位置吮吸手指。[p]
[endif]
[add_lust_act][mouth_up_little]
[jump/ tg=*after_nade ]

*nade_continue3_
[cm][eval exp="f.nade_conti=1,f.nade_c=3" ]
[jump/ st=talk/room tg=*nade_c_lead ]

*stop_nade
[cm][eval exp="f.act.last='nade', f.nade_conti=0, f.nade_c=0" ][return_bace]


2694